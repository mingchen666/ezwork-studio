import{a1 as R,a2 as B,aV as N,r as g,j as _,o as u,F as o,C as e,p as a,E as T,m as f,bY as A,aY as j,bZ as z,H,a9 as y,f as P,b_ as J,b$ as Z,a4 as G,J as O,c0 as Q,I as W,s as S,T as X,a3 as ee,k as q}from"./index-1cEe87gQ.js";import{D as L,l as D,E as M,F as K,d as se}from"./el-input-D_OuGaEd.js";import"./format-input-ejjDCr06.js";const ae={class:"login-form"},te={key:0},oe={key:1},le={__name:"LoginForm",emits:["success"],setup(F,{emit:h}){const V=h,i=B(),s=N({email:"",password:""}),n=g(!1),l=g(),d={email:[{required:!0,message:"è¯·è¾“å…¥é‚®ç®±",trigger:"blur"},{type:"email",message:"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®",trigger:"blur"}],password:[{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"},{min:6,message:"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½",trigger:"blur"}]},w=async()=>{try{await l.value?.validate(),n.value=!0;const v=await i.login({email:s.email,login_type:"password",password:s.password});v.success?V("success",v.message):y.error(v.message)}catch(v){console.error("Login validation failed:",v)}finally{n.value=!1}};return(v,m)=>{const C=T,$=D,k=L,E=M,I=K;return u(),_("div",ae,[m[2]||(m[2]=o("div",{class:"form-header"},[o("h2",null,"æ¬¢è¿å›æ¥"),o("p",null,"ç™»å½•æ‚¨çš„è´¦æˆ·ï¼Œç»§ç»­åˆ›ä½œä¹‹æ—…")],-1)),e(I,{ref_key:"formRef",ref:l,model:s,rules:d,onSubmit:H(w,["prevent"])},{default:a(()=>[e(k,{prop:"email"},{default:a(()=>[e($,{modelValue:s.email,"onUpdate:modelValue":m[0]||(m[0]=r=>s.email=r),type:"email",placeholder:"è¯·è¾“å…¥é‚®ç®±åœ°å€",class:"custom-input",size:"default"},{prefix:a(()=>[e(C,{class:"input-icon"},{default:a(()=>[e(f(A))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(k,{prop:"password"},{default:a(()=>[e($,{modelValue:s.password,"onUpdate:modelValue":m[1]||(m[1]=r=>s.password=r),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ","show-password":"",class:"custom-input",size:"default",onKeyup:j(w,["enter"])},{prefix:a(()=>[e(C,{class:"input-icon"},{default:a(()=>[e(f(z))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(k,{class:"submit-item"},{default:a(()=>[e(E,{type:"primary",class:"login-btn",loading:n.value,onClick:w},{default:a(()=>[n.value?(u(),_("span",oe,"ç™»å½•ä¸­...")):(u(),_("span",te,"ç«‹å³ç™»å½•"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}},re=R(le,[["__scopeId","data-v-5270422c"]]),ne={class:"register-form"},ie={class:"code-input-wrapper"},de={key:0},ue={key:1},ce={__name:"RegisterForm",emits:["success"],setup(F,{emit:h}){const V=h,i=B(),s=N({email:"",username:"",password:"",confirmPassword:"",code:""}),n=g(!1),l=g(!1),d=g(0),w=g(),m={email:[{required:!0,message:"è¯·è¾“å…¥é‚®ç®±",trigger:"blur"},{type:"email",message:"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®",trigger:"blur"}],username:[{min:2,message:"ç”¨æˆ·åé•¿åº¦ä¸èƒ½å°‘äº2ä½",trigger:"blur"}],password:[{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"},{min:6,message:"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½",trigger:"blur"}],confirmPassword:[{required:!0,message:"è¯·ç¡®è®¤å¯†ç ",trigger:"blur"},{validator:(r,t,p)=>{t!==s.password?p(new Error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´")):p()},trigger:"blur"}],code:[{required:!0,message:"è¯·è¾“å…¥éªŒè¯ç ",trigger:"blur"},{len:6,message:"éªŒè¯ç ä¸º6ä½æ•°å­—",trigger:"blur"}]},C=P(()=>s.email&&d.value===0&&!l.value),$=P(()=>l.value?"å‘é€ä¸­":d.value>0?`${d.value}s`:"å‘é€éªŒè¯ç "),k=async()=>{if(!s.email){y.warning("è¯·å…ˆè¾“å…¥é‚®ç®±");return}l.value=!0;try{const r=await i.sendVerificationCode(s.email);r.success?(y.success(r.message),E()):y.error(r.message)}finally{l.value=!1}},E=()=>{d.value=60;const r=setInterval(()=>{d.value--,d.value<=0&&clearInterval(r)},1e3)},I=async()=>{try{await w.value?.validate(),n.value=!0;const r={email:s.email,password:s.password,code:s.code};s.username&&(r.username=s.username);const t=await i.register(r);t.success?V("success",t.message):y.error(t.message)}catch(r){console.error("Register validation failed:",r)}finally{n.value=!1}};return(r,t)=>{const p=T,x=D,b=L,U=M,Y=K;return u(),_("div",ne,[t[5]||(t[5]=o("div",{class:"form-header"},[o("h2",null,"åˆ›å»ºè´¦æˆ·"),o("p",null,"åŠ å…¥æˆ‘ä»¬ï¼Œå¼€å¯AIåˆ›ä½œä¹‹æ—…")],-1)),e(Y,{ref_key:"formRef",ref:w,model:s,rules:m},{default:a(()=>[e(b,{prop:"email"},{default:a(()=>[e(x,{modelValue:s.email,"onUpdate:modelValue":t[0]||(t[0]=c=>s.email=c),type:"email",placeholder:"è¯·è¾“å…¥é‚®ç®±åœ°å€",class:"custom-input",size:"default"},{prefix:a(()=>[e(p,{class:"input-icon"},{default:a(()=>[e(f(A))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(b,{prop:"username"},{default:a(()=>[e(x,{modelValue:s.username,"onUpdate:modelValue":t[1]||(t[1]=c=>s.username=c),placeholder:"è¯·è¾“å…¥ç”¨æˆ·åï¼ˆå¯é€‰ï¼‰",class:"custom-input",size:"default"},{prefix:a(()=>[e(p,{class:"input-icon"},{default:a(()=>[e(f(J))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(b,{prop:"code"},{default:a(()=>[o("div",ie,[e(x,{modelValue:s.code,"onUpdate:modelValue":t[2]||(t[2]=c=>s.code=c),placeholder:"è¯·è¾“å…¥éªŒè¯ç ",class:"custom-input code-input",size:"default"},{prefix:a(()=>[e(p,{class:"input-icon"},{default:a(()=>[e(f(Z))]),_:1})]),_:1},8,["modelValue"]),e(U,{class:"code-btn",size:"default",loading:l.value,disabled:!C.value,onClick:k},{default:a(()=>[G(O($.value),1)]),_:1},8,["loading","disabled"])])]),_:1}),e(b,{prop:"password"},{default:a(()=>[e(x,{modelValue:s.password,"onUpdate:modelValue":t[3]||(t[3]=c=>s.password=c),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ","show-password":"",class:"custom-input",size:"default"},{prefix:a(()=>[e(p,{class:"input-icon"},{default:a(()=>[e(f(z))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(b,{prop:"confirmPassword"},{default:a(()=>[e(x,{modelValue:s.confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=c=>s.confirmPassword=c),type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥å¯†ç ","show-password":"",class:"custom-input",size:"default"},{prefix:a(()=>[e(p,{class:"input-icon"},{default:a(()=>[e(f(z))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(b,{class:"submit-item"},{default:a(()=>[e(U,{type:"primary",class:"register-btn",loading:n.value,onClick:I},{default:a(()=>[n.value?(u(),_("span",ue,"æ³¨å†Œä¸­...")):(u(),_("span",de,"ç«‹å³æ³¨å†Œ"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}},me=R(ce,[["__scopeId","data-v-f654acfb"]]),pe={class:"auth-container"},fe={class:"auth-content"},_e={class:"form-section"},ve={class:"form-container"},ge={key:0,class:"mobile-logo"},we={class:"tab-switcher"},be={class:"form-content"},ye={__name:"index",setup(F){const h=ee(),{isMobile:V}=se(),i=g("login"),s=n=>{y.success(n),h.push("/")};return(n,l)=>(u(),_("div",pe,[o("div",fe,[l[3]||(l[3]=Q('<div class="intro-section" data-v-87682ac1><div class="intro-content" data-v-87682ac1><div class="logo" data-v-87682ac1><div class="logo-icon" data-v-87682ac1>ğŸ¨</div><h1 data-v-87682ac1>Ezwork Studio</h1><span class="subtitle" data-v-87682ac1>AIç»˜ç”»å·¥å…·å®¢æˆ·ç«¯</span></div><p class="intro-text" data-v-87682ac1> é‡Šæ”¾åˆ›æ„æ— é™å¯èƒ½<br data-v-87682ac1> è®©æ¯ä¸€ä¸ªæƒ³è±¡éƒ½èƒ½æˆä¸ºè‰ºæœ¯ </p><div class="decoration-elements" data-v-87682ac1><div class="floating-shape shape-1" data-v-87682ac1></div><div class="floating-shape shape-2" data-v-87682ac1></div><div class="floating-shape shape-3" data-v-87682ac1></div></div></div></div>',1)),o("div",_e,[o("div",ve,[f(V)?(u(),_("div",ge,[...l[2]||(l[2]=[o("div",{class:"logo-icon"},"ğŸ¨",-1),o("h1",null,"Ezwork Studio",-1),o("span",{class:"subtitle"},"AIç»˜ç”»å·¥å…·å®¢æˆ·ç«¯",-1)])])):W("",!0),o("div",we,[o("button",{class:S(["tab-btn",{active:i.value==="login"}]),onClick:l[0]||(l[0]=d=>i.value="login")}," ç™»å½• ",2),o("button",{class:S(["tab-btn",{active:i.value==="register"}]),onClick:l[1]||(l[1]=d=>i.value="register")}," æ³¨å†Œ ",2),o("div",{class:S(["tab-indicator",{"move-right":i.value==="register"}])},null,2)]),o("div",be,[e(X,{name:"slide",mode:"out-in"},{default:a(()=>[i.value==="login"?(u(),q(re,{key:0,onSuccess:s})):(u(),q(me,{key:1,onSuccess:s}))]),_:1})])])])])]))}},xe=R(ye,[["__scopeId","data-v-87682ac1"]]);export{xe as default};
