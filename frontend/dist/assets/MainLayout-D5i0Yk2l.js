import{u as Ue,E as ue,a as Ye,c as Ve,b as Ee,d as He}from"./el-input-D_OuGaEd.js";import{d as Je,a as je,u as We,E as qe,b as Xe,c as Qe,e as V,f as _e,r as Ze,g as xe,O as eo,h as oo,i as to,j as Ce,w as be,F as no,S as so,k as lo}from"./SettingsModal-D3fWY-FP.js";import{b as Q,d as G,i as Te,a as Se,c as ao,_ as H,e as K,u as oe,r as C,f as T,g as ro,h as de,w as ce,j as N,o as w,k as U,l as B,n as se,m as o,p as c,q as $e,E as te,s as L,t as pe,v as io,x as uo,y as ne,z as ke,A as co,B as Re,C as d,T as po,D as fo,F as h,G as ee,H as le,I as D,J as W,K as mo,L as vo,M as P,N as go,O as X,P as x,Q as _o,R as O,S as bo,U as wo,V as z,W as ho,X as Fe,Y as Oe,Z as yo,$ as Io,a0 as Ne,a1 as Eo,a2 as Co,a3 as To,a4 as re,a5 as ie,a6 as we,a7 as So,a8 as $o,a9 as he}from"./index-1cEe87gQ.js";import"./format-input-ejjDCr06.js";const ko=Q({size:{type:[Number,String],values:ao,default:"",validator:e=>Se(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Te},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:G(String),default:"cover"}}),Ro={error:e=>e instanceof Event},Fo=K({name:"ElAvatar"}),Oo=K({...Fo,props:ko,emits:Ro,setup(e,{emit:l}){const r=e,s=oe("avatar"),u=C(!1),f=T(()=>{const{size:i,icon:g,shape:t}=r,b=[s.b()];return ro(i)&&b.push(s.m(i)),g&&b.push(s.m("icon")),t&&b.push(s.m(t)),b}),m=T(()=>{const{size:i}=r;return Se(i)?s.cssVarBlock({size:de(i)||""}):void 0}),n=T(()=>({objectFit:r.fit}));ce(()=>r.src,()=>u.value=!1);function v(i){u.value=!0,l("error",i)}return(i,g)=>(w(),N("span",{class:L(o(f)),style:se(o(m))},[(i.src||i.srcSet)&&!u.value?(w(),N("img",{key:0,src:i.src,alt:i.alt,srcset:i.srcSet,style:se(o(n)),onError:v},null,44,["src","alt","srcset"])):i.icon?(w(),U(o(te),{key:1},{default:c(()=>[(w(),U($e(i.icon)))]),_:1})):B(i.$slots,"default",{key:2})],6))}});var No=H(Oo,[["__file","avatar.vue"]]);const Ao=pe(No),Bo=Q({...je,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),Po=Je;function zo(e,l){const{width:r,height:s}=io(),u=T(()=>["ltr","rtl"].includes(e.direction)),f=T(()=>["ltr","ttb"].includes(e.direction)?1:-1),m=T(()=>u.value?r.value:s.value),n=T(()=>uo(v.value+f.value*i.value,4,m.value)),v=C(0),i=C(0),g=C(!1),t=C(!1);let b=[],a=[];const p=()=>{var S;const I=(S=l.value)==null?void 0:S.closest('[aria-modal="true"]');return I?u.value?I.offsetWidth:I.offsetHeight:100};ce(()=>[e.size,e.resizable],()=>{t.value=!1,v.value=0,i.value=0,A()});const _=S=>{e.resizable&&(t.value||(v.value=p(),t.value=!0),b=[S.pageX,S.pageY],g.value=!0,a.push(ne(window,"mouseup",A),ne(window,"mousemove",y)))},y=S=>{const{pageX:I,pageY:k}=S,F=I-b[0],Y=k-b[1];i.value=u.value?F:Y},A=()=>{b=[],v.value=n.value,i.value=0,g.value=!1,a.forEach(S=>S?.()),a=[]},R=ne(l,"mousedown",_);return ke(()=>{R(),A()}),{size:T(()=>t.value?`${n.value}px`:de(e.size)),isResizing:g,isHorizontal:u}}const Mo=K({name:"ElDrawer",inheritAttrs:!1}),Do=K({...Mo,props:Bo,emits:Po,setup(e,{expose:l}){const r=e,s=co();Ue({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},T(()=>!!s.title));const u=C(),f=C(),m=C(),n=oe("drawer"),{t:v}=Re(),{afterEnter:i,afterLeave:g,beforeLeave:t,visible:b,rendered:a,titleId:p,bodyId:_,zIndex:y,onModalClick:A,onOpenAutoFocus:R,onCloseAutoFocus:S,onFocusoutPrevented:I,onCloseRequested:k,handleClose:F}=We(r,u),{isHorizontal:Y,size:J,isResizing:M}=zo(r,m);return l({handleClose:F,afterEnter:i,afterLeave:g}),(E,Z)=>(w(),U(o(Qe),{to:E.appendTo,disabled:E.appendTo!=="body"?!1:!E.appendToBody},{default:c(()=>[d(po,{name:o(n).b("fade"),onAfterEnter:o(i),onAfterLeave:o(g),onBeforeLeave:o(t),persisted:""},{default:c(()=>{var j;return[fo(d(o(qe),{mask:E.modal,"overlay-class":[o(n).is("drawer"),(j=E.modalClass)!=null?j:""],"z-index":o(y),onClick:o(A)},{default:c(()=>[d(o(Xe),{loop:"",trapped:o(b),"focus-trap-el":u.value,"focus-start-el":f.value,onFocusAfterTrapped:o(R),onFocusAfterReleased:o(S),onFocusoutPrevented:o(I),onReleaseRequested:o(k)},{default:c(()=>[h("div",ee({ref_key:"drawerRef",ref:u,"aria-modal":"true","aria-label":E.title||void 0,"aria-labelledby":E.title?void 0:o(p),"aria-describedby":o(_)},E.$attrs,{class:[o(n).b(),E.direction,o(b)&&"open",o(n).is("dragging",o(M))],style:{[o(Y)?"width":"height"]:o(J)},role:"dialog",onClick:le(()=>{},["stop"])}),[h("span",{ref_key:"focusStartRef",ref:f,class:L(o(n).e("sr-focus")),tabindex:"-1"},null,2),E.withHeader?(w(),N("header",{key:0,class:L([o(n).e("header"),E.headerClass])},[E.$slots.title?B(E.$slots,"title",{key:1},()=>[D(" DEPRECATED SLOT ")]):B(E.$slots,"header",{key:0,close:o(F),titleId:o(p),titleClass:o(n).e("title")},()=>[h("span",{id:o(p),role:"heading","aria-level":E.headerAriaLevel,class:L(o(n).e("title"))},W(E.title),11,["id","aria-level"])]),E.showClose?(w(),N("button",{key:2,"aria-label":o(v)("el.drawer.close"),class:L(o(n).e("close-btn")),type:"button",onClick:o(F)},[d(o(te),{class:L(o(n).e("close"))},{default:c(()=>[d(o(mo))]),_:1},8,["class"])],10,["aria-label","onClick"])):D("v-if",!0)],2)):D("v-if",!0),o(a)?(w(),N("div",{key:1,id:o(_),class:L([o(n).e("body"),E.bodyClass])},[B(E.$slots,"default")],10,["id"])):D("v-if",!0),E.$slots.footer?(w(),N("div",{key:2,class:L([o(n).e("footer"),E.footerClass])},[B(E.$slots,"footer")],2)):D("v-if",!0),E.resizable?(w(),N("div",{key:3,ref_key:"draggerRef",ref:m,style:se({zIndex:o(y)}),class:L(o(n).e("dragger"))},null,6)):D("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[vo,o(b)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Lo=H(Do,[["__file","drawer.vue"]]);const Ko=pe(Lo),Go=K({inheritAttrs:!1});function Uo(e,l,r,s,u,f){return B(e.$slots,"default")}var Yo=H(Go,[["render",Uo],["__file","collection.vue"]]);const Vo=K({name:"ElCollectionItem",inheritAttrs:!1});function Ho(e,l,r,s,u,f){return B(e.$slots,"default")}var Jo=H(Vo,[["render",Ho],["__file","collection-item.vue"]]);const Ae="data-el-collection-item",Be=e=>{const l=`El${e}Collection`,r=`${l}Item`,s=Symbol(l),u=Symbol(r),f={...Yo,name:l,setup(){const n=C(),v=new Map;X(s,{itemMap:v,getItems:()=>{const g=o(n);if(!g)return[];const t=Array.from(g.querySelectorAll(`[${Ae}]`));return[...v.values()].sort((a,p)=>t.indexOf(a.ref)-t.indexOf(p.ref))},collectionRef:n})}},m={...Jo,name:r,setup(n,{attrs:v}){const i=C(),g=P(s,void 0);X(u,{collectionItemRef:i}),go(()=>{const t=o(i);t&&g.itemMap.set(t,{ref:t,...v})}),ke(()=>{const t=o(i);g.itemMap.delete(t)})}};return{COLLECTION_INJECTION_KEY:s,COLLECTION_ITEM_INJECTION_KEY:u,ElCollection:f,ElCollectionItem:m}},jo=Q({style:{type:G([String,Array,Object])},currentTabId:{type:G(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:G(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Wo,ElCollectionItem:qo,COLLECTION_INJECTION_KEY:fe,COLLECTION_ITEM_INJECTION_KEY:Xo}=Be("RovingFocusGroup"),me=Symbol("elRovingFocusGroup"),Pe=Symbol("elRovingFocusGroupItem"),Qo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Zo=(e,l)=>e,xo=(e,l,r)=>{const s=Zo(e.code);return Qo[s]},et=(e,l)=>e.map((r,s)=>e[(s+l)%e.length]),ve=e=>{const{activeElement:l}=document;for(const r of e)if(r===l||(r.focus(),l!==document.activeElement))return},ye="currentTabIdChange",Ie="rovingFocusGroup.entryFocus",ot={bubbles:!1,cancelable:!0},tt=K({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:jo,emits:[ye,"entryFocus"],setup(e,{emit:l}){var r;const s=C((r=e.currentTabId||e.defaultCurrentTabId)!=null?r:null),u=C(!1),f=C(!1),m=C(),{getItems:n}=P(fe,void 0),v=T(()=>[{outline:"none"},e.style]),i=_=>{l(ye,_)},g=()=>{u.value=!0},t=V(_=>{var y;(y=e.onMousedown)==null||y.call(e,_)},()=>{f.value=!0}),b=V(_=>{var y;(y=e.onFocus)==null||y.call(e,_)},_=>{const y=!o(f),{target:A,currentTarget:R}=_;if(A===R&&y&&!o(u)){const S=new Event(Ie,ot);if(R?.dispatchEvent(S),!S.defaultPrevented){const I=n().filter(M=>M.focusable),k=I.find(M=>M.active),F=I.find(M=>M.id===o(s)),J=[k,F,...I].filter(Boolean).map(M=>M.ref);ve(J)}}f.value=!1}),a=V(_=>{var y;(y=e.onBlur)==null||y.call(e,_)},()=>{u.value=!1}),p=(..._)=>{l("entryFocus",..._)};X(me,{currentTabbedId:_o(s),loop:x(e,"loop"),tabIndex:T(()=>o(u)?-1:0),rovingFocusGroupRef:m,rovingFocusGroupRootStyle:v,orientation:x(e,"orientation"),dir:x(e,"dir"),onItemFocus:i,onItemShiftTab:g,onBlur:a,onFocus:b,onMousedown:t}),ce(()=>e.currentTabId,_=>{s.value=_??null}),ne(m,Ie,p)}});function nt(e,l,r,s,u,f){return B(e.$slots,"default")}var st=H(tt,[["render",nt],["__file","roving-focus-group-impl.vue"]]);const lt=K({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Wo,ElRovingFocusGroupImpl:st}});function at(e,l,r,s,u,f){const m=O("el-roving-focus-group-impl"),n=O("el-focus-group-collection");return w(),U(n,null,{default:c(()=>[d(m,bo(wo(e.$attrs)),{default:c(()=>[B(e.$slots,"default")]),_:3},16)]),_:3})}var rt=H(lt,[["render",at],["__file","roving-focus-group.vue"]]);const it=Q({trigger:xe.trigger,triggerKeys:{type:G(Array),default:()=>[z.enter,z.numpadEnter,z.space,z.down]},effect:{..._e.effect,default:"light"},type:{type:G(String)},placement:{type:G(String),default:"bottom"},popperOptions:{type:G(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:G([Number,String]),default:0},maxHeight:{type:G([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,values:Ze,default:"menu"},buttonProps:{type:G(Object)},teleported:_e.teleported,persistent:{type:Boolean,default:!0}}),ze=Q({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Te}}),ut=Q({onKeydown:{type:G(Function)}}),dt=[z.down,z.pageDown,z.home],Me=[z.up,z.pageUp,z.end],ct=[...dt,...Me],{ElCollection:pt,ElCollectionItem:ft,COLLECTION_INJECTION_KEY:mt,COLLECTION_ITEM_INJECTION_KEY:vt}=Be("Dropdown"),ae=Symbol("elDropdown"),De="elDropdown",{ButtonGroup:gt}=ue,_t=K({name:"ElDropdown",components:{ElButton:ue,ElButtonGroup:gt,ElScrollbar:to,ElDropdownCollection:pt,ElTooltip:oo,ElRovingFocusGroup:rt,ElOnlyChild:eo,ElIcon:te,ArrowDown:Fe},props:it,emits:["visible-change","click","command"],setup(e,{emit:l}){const r=Oe(),s=oe("dropdown"),{t:u}=Re(),f=C(),m=C(),n=C(),v=C(),i=C(null),g=C(null),t=C(!1),b=T(()=>({maxHeight:de(e.maxHeight)})),a=T(()=>[s.m(I.value)]),p=T(()=>Ve(e.trigger)),_=Ee().value,y=T(()=>e.id||_);function A(){R()}function R(){var $;($=n.value)==null||$.onClose()}function S(){var $;($=n.value)==null||$.onOpen()}const I=Ye();function k(...$){l("command",...$)}function F(){}function Y(){const $=o(v);p.value.includes("hover")&&$?.focus({preventScroll:!0}),g.value=null}function J($){g.value=$}function M($){t.value||($.preventDefault(),$.stopImmediatePropagation())}function E(){l("visible-change",!0)}function Z($){var q;$?.type==="keydown"&&((q=v.value)==null||q.focus())}function j(){l("visible-change",!1)}return X(ae,{contentRef:v,role:T(()=>e.role),triggerId:y,isUsingKeyboard:t,onItemEnter:F,onItemLeave:Y}),X(De,{instance:r,dropdownSize:I,handleClick:A,commandHandler:k,trigger:x(e,"trigger"),hideOnClick:x(e,"hideOnClick")}),{t:u,ns:s,scrollbar:i,wrapStyle:b,dropdownTriggerKls:a,dropdownSize:I,triggerId:y,currentTabId:g,handleCurrentTabIdChange:J,handlerMainButtonClick:$=>{l("click",$)},handleEntryFocus:M,handleClose:R,handleOpen:S,handleBeforeShowTooltip:E,handleShowTooltip:Z,handleBeforeHideTooltip:j,onFocusAfterTrapped:$=>{var q,ge;$.preventDefault(),(ge=(q=v.value)==null?void 0:q.focus)==null||ge.call(q,{preventScroll:!0})},popperRef:n,contentRef:v,triggeringElementRef:f,referenceElementRef:m}}});function bt(e,l,r,s,u,f){var m;const n=O("el-dropdown-collection"),v=O("el-roving-focus-group"),i=O("el-scrollbar"),g=O("el-only-child"),t=O("el-tooltip"),b=O("el-button"),a=O("arrow-down"),p=O("el-icon"),_=O("el-button-group");return w(),N("div",{class:L([e.ns.b(),e.ns.is("disabled",e.disabled)])},[d(t,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(m=e.referenceElementRef)==null?void 0:m.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"","focus-on-target":"",persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},ho({content:c(()=>[d(i,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:c(()=>[d(v,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:c(()=>[d(n,null,{default:c(()=>[B(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:c(()=>[d(g,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:c(()=>[B(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","persistent","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(w(),U(_,{key:0},{default:c(()=>[d(b,ee({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:c(()=>[B(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),d(b,ee({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:c(()=>[d(p,{class:L(e.ns.e("icon"))},{default:c(()=>[d(a)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):D("v-if",!0)],2)}var wt=H(_t,[["render",bt],["__file","dropdown.vue"]]);const ht=K({components:{ElRovingFocusCollectionItem:qo},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:["mousedown","focus","keydown"],setup(e,{emit:l}){const{currentTabbedId:r,loop:s,onItemFocus:u,onItemShiftTab:f}=P(me,void 0),{getItems:m}=P(fe,void 0),n=Ee(),v=C(),i=V(a=>{l("mousedown",a)},a=>{e.focusable?u(o(n)):a.preventDefault()}),g=V(a=>{l("focus",a)},()=>{u(o(n))}),t=V(a=>{l("keydown",a)},a=>{const{code:p,shiftKey:_,target:y,currentTarget:A}=a;if(p===z.tab&&_){f();return}if(y!==A)return;const R=xo(a);if(R){a.preventDefault();let I=m().filter(k=>k.focusable).map(k=>k.ref);switch(R){case"last":{I.reverse();break}case"prev":case"next":{R==="prev"&&I.reverse();const k=I.indexOf(A);I=s.value?et(I,k+1):I.slice(k+1);break}}yo(()=>{ve(I)})}}),b=T(()=>r.value===o(n));return X(Pe,{rovingFocusGroupItemRef:v,tabIndex:T(()=>o(b)?0:-1),handleMousedown:i,handleFocus:g,handleKeydown:t}),{id:n,handleKeydown:t,handleFocus:g,handleMousedown:i}}});function yt(e,l,r,s,u,f){const m=O("el-roving-focus-collection-item");return w(),U(m,{id:e.id,focusable:e.focusable,active:e.active},{default:c(()=>[B(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var It=H(ht,[["render",yt],["__file","roving-focus-item.vue"]]);const Et=K({name:"DropdownItemImpl",components:{ElIcon:te},props:ze,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:l}){const r=oe("dropdown"),{role:s}=P(ae,void 0),{collectionItemRef:u}=P(vt,void 0),{collectionItemRef:f}=P(Xo,void 0),{rovingFocusGroupItemRef:m,tabIndex:n,handleFocus:v,handleKeydown:i,handleMousedown:g}=P(Pe,void 0),t=Ce(u,f,m),b=T(()=>s.value==="menu"?"menuitem":s.value==="navigation"?"link":"button"),a=V(p=>{if([z.enter,z.numpadEnter,z.space].includes(p.code))return p.preventDefault(),p.stopImmediatePropagation(),l("clickimpl",p),!0},i);return{ns:r,itemRef:t,dataset:{[Ae]:""},role:b,tabIndex:n,handleFocus:v,handleKeydown:a,handleMousedown:g}}});function Ct(e,l,r,s,u,f){const m=O("el-icon");return w(),N(Io,null,[e.divided?(w(),N("li",{key:0,role:"separator",class:L(e.ns.bem("menu","item","divided"))},null,2)):D("v-if",!0),h("li",ee({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:n=>e.$emit("clickimpl",n),onFocus:e.handleFocus,onKeydown:le(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:n=>e.$emit("pointermove",n),onPointerleave:n=>e.$emit("pointerleave",n)}),[e.icon?(w(),U(m,{key:0},{default:c(()=>[(w(),U($e(e.icon)))]),_:1})):D("v-if",!0),B(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var Tt=H(Et,[["render",Ct],["__file","dropdown-item-impl.vue"]]);const Le=()=>{const e=P(De,{}),l=T(()=>e?.dropdownSize);return{elDropdown:e,_elDropdownSize:l}},St=K({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ft,ElRovingFocusItem:It,ElDropdownItemImpl:Tt},inheritAttrs:!1,props:ze,emits:["pointermove","pointerleave","click"],setup(e,{emit:l,attrs:r}){const{elDropdown:s}=Le(),u=Oe(),f=C(null),m=T(()=>{var a,p;return(p=(a=o(f))==null?void 0:a.textContent)!=null?p:""}),{onItemEnter:n,onItemLeave:v}=P(ae,void 0),i=V(a=>(l("pointermove",a),a.defaultPrevented),be(a=>{if(e.disabled){v(a);return}const p=a.currentTarget;p===document.activeElement||p.contains(document.activeElement)||(n(a),a.defaultPrevented||p?.focus({preventScroll:!0}))})),g=V(a=>(l("pointerleave",a),a.defaultPrevented),be(v)),t=V(a=>{if(!e.disabled)return l("click",a),a.type!=="keydown"&&a.defaultPrevented},a=>{var p,_,y;if(e.disabled){a.stopImmediatePropagation();return}(p=s?.hideOnClick)!=null&&p.value&&((_=s.handleClick)==null||_.call(s)),(y=s.commandHandler)==null||y.call(s,e.command,u,a)}),b=T(()=>({...e,...r}));return{handleClick:t,handlePointerMove:i,handlePointerLeave:g,textContent:m,propsAndAttrs:b}}});function $t(e,l,r,s,u,f){var m;const n=O("el-dropdown-item-impl"),v=O("el-roving-focus-item"),i=O("el-dropdown-collection-item");return w(),U(i,{disabled:e.disabled,"text-value":(m=e.textValue)!=null?m:e.textContent},{default:c(()=>[d(v,{focusable:!e.disabled},{default:c(()=>[d(n,ee(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:c(()=>[B(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Ke=H(St,[["render",$t],["__file","dropdown-item.vue"]]);const kt=K({name:"ElDropdownMenu",props:ut,setup(e){const l=oe("dropdown"),{_elDropdownSize:r}=Le(),s=r.value,{focusTrapRef:u,onKeydown:f}=P(no,void 0),{contentRef:m,role:n,triggerId:v}=P(ae,void 0),{collectionRef:i,getItems:g}=P(mt,void 0),{rovingFocusGroupRef:t,rovingFocusGroupRootStyle:b,tabIndex:a,onBlur:p,onFocus:_,onMousedown:y}=P(me,void 0),{collectionRef:A}=P(fe,void 0),R=T(()=>[l.b("menu"),l.bm("menu",s?.value)]),S=Ce(m,i,u,t,A),I=V(F=>{var Y;(Y=e.onKeydown)==null||Y.call(e,F)},F=>{const{currentTarget:Y,code:J,target:M}=F;if(Y.contains(M),z.tab===J&&F.stopImmediatePropagation(),F.preventDefault(),M!==o(m)||!ct.includes(J))return;const Z=g().filter(j=>!j.disabled).map(j=>j.ref);Me.includes(J)&&Z.reverse(),ve(Z)});return{size:s,rovingFocusGroupRootStyle:b,tabIndex:a,dropdownKls:R,role:n,triggerId:v,dropdownListWrapperRef:S,handleKeydown:F=>{I(F),f(F)},onBlur:p,onFocus:_,onMousedown:y}}});function Rt(e,l,r,s,u,f){return w(),N("ul",{ref:e.dropdownListWrapperRef,class:L(e.dropdownKls),style:se(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:le(e.handleKeydown,["self"]),onMousedown:le(e.onMousedown,["self"])},[B(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var Ge=H(kt,[["render",Rt],["__file","dropdown-menu.vue"]]);const Ft=pe(wt,{DropdownItem:Ke,DropdownMenu:Ge}),Ot=Ne(Ke),Nt=Ne(Ge),At={class:"app-layout"},Bt={class:"app-header"},Pt={class:"header-content"},zt={class:"header-left"},Mt={class:"header-right"},Dt={key:0,class:"user-section"},Lt={class:"user-info"},Kt={key:0,class:"user-details"},Gt={class:"username"},Ut={class:"user-email"},Yt={key:1,class:"auth-actions"},Vt={class:"app-main"},Ht={class:"mobile-menu"},Jt={key:0,class:"mobile-user-info"},jt={class:"mobile-user-details"},Wt={class:"mobile-menu-items"},qt={__name:"MainLayout",setup(e){const l=To(),r=Co(),{isMobile:s}=He(),u=C(!1),f=C(!1),m=async g=>{switch(f.value=!1,g){case"profile":l.push("/profile");break;case"settings":n();break;case"logout":try{await lo.confirm("确定要退出登录吗？","确认退出",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await r.logout(),he.success("已退出登录"),l.push("/auth")}catch{}break}},n=()=>{u.value=!0,f.value=!1},v=()=>{l.push("/auth"),f.value=!1},i=g=>{he.success("设置已保存")};return(g,t)=>{const b=O("router-link"),a=Ao,p=te,_=Ot,y=Nt,A=Ft,R=ue,S=O("router-view"),I=Ko;return w(),N("div",At,[h("header",Bt,[h("div",Pt,[h("div",zt,[d(b,{to:"/",class:"logo-link"},{default:c(()=>[...t[4]||(t[4]=[h("div",{class:"logo"},[h("div",{class:"logo-icon"},"🎨"),h("div",{class:"logo-text"},[h("h1",null,"Ezwork Studio"),h("span",{class:"tagline"},"AI绘画工具客户端")])],-1)])]),_:1})]),h("div",Mt,[o(r).isLoggedIn?(w(),N("div",Dt,[d(A,{onCommand:m,trigger:"click"},{dropdown:c(()=>[d(y,null,{default:c(()=>[d(_,{command:"settings"},{default:c(()=>[d(p,null,{default:c(()=>[d(o(ie))]),_:1}),t[5]||(t[5]=h("span",null,"设置",-1))]),_:1}),d(_,{divided:"",command:"logout"},{default:c(()=>[d(p,null,{default:c(()=>[d(o(we))]),_:1}),t[6]||(t[6]=h("span",null,"退出登录",-1))]),_:1})]),_:1})]),default:c(()=>[h("div",Lt,[d(a,{size:36,src:o(r).userInfo?.avatar,class:"user-avatar"},{default:c(()=>[re(W(o(r).userInfo?.username?.charAt(0)?.toUpperCase()||"U"),1)]),_:1},8,["src"]),o(s)?D("",!0):(w(),N("div",Kt,[h("span",Gt,W(o(r).userInfo?.username||"用户"),1),h("span",Ut,W(o(r).userInfo?.email),1)])),d(p,{class:"dropdown-icon"},{default:c(()=>[d(o(Fe))]),_:1})])]),_:1})])):(w(),N("div",Yt,[d(R,{type:"primary",onClick:v,size:"default"},{default:c(()=>[...t[7]||(t[7]=[re(" 登录 / 注册 ",-1)])]),_:1})])),o(s)?D("",!0):(w(),U(R,{key:2,circle:"",class:"settings-btn",onClick:n},{default:c(()=>[d(p,null,{default:c(()=>[d(o(ie))]),_:1})]),_:1})),o(s)?(w(),U(R,{key:3,circle:"",class:"mobile-menu-btn",onClick:t[0]||(t[0]=k=>f.value=!0)},{default:c(()=>[d(p,null,{default:c(()=>[d(o(So))]),_:1})]),_:1})):D("",!0)])])]),h("main",Vt,[d(S)]),o(s)?(w(),U(I,{key:0,modelValue:f.value,"onUpdate:modelValue":t[2]||(t[2]=k=>f.value=k),title:"菜单",direction:"rtl",size:"280px"},{default:c(()=>[h("div",Ht,[o(r).isLoggedIn?(w(),N("div",Jt,[d(a,{size:60,src:o(r).userInfo?.avatar,class:"mobile-avatar"},{default:c(()=>[re(W(o(r).userInfo?.username?.charAt(0)?.toUpperCase()||"U"),1)]),_:1},8,["src"]),h("div",jt,[h("h3",null,W(o(r).userInfo?.username||"用户"),1),h("p",null,W(o(r).userInfo?.email),1)])])):D("",!0),h("div",Wt,[h("div",{class:"menu-item",onClick:n},[d(p,null,{default:c(()=>[d(o(ie))]),_:1}),t[8]||(t[8]=h("span",null,"设置",-1))]),o(r).isLoggedIn?(w(),N("div",{key:0,class:"menu-item",onClick:t[1]||(t[1]=k=>m("logout"))},[d(p,null,{default:c(()=>[d(o(we))]),_:1}),t[9]||(t[9]=h("span",null,"退出登录",-1))])):(w(),N("div",{key:1,class:"menu-item",onClick:v},[d(p,null,{default:c(()=>[d(o($o))]),_:1}),t[10]||(t[10]=h("span",null,"登录 / 注册",-1))]))])])]),_:1},8,["modelValue"])):D("",!0),d(so,{modelValue:u.value,"onUpdate:modelValue":t[3]||(t[3]=k=>u.value=k),onSave:i},null,8,["modelValue"])])}}},tn=Eo(qt,[["__scopeId","data-v-0e0a3855"]]);export{tn as default};
