import{e as St,f as ss,g as as,t as $e,b as os,h as ls,U as Et,i as Tt,j as xe,k as ns,E as De,d as It,l as rs}from"./el-input-D_OuGaEd.js";import{l as is,m as cs,n as us,o as ds,b as ps,c as fs,p as ms,q as _e,s as vs,t as Oe,v as gs,x as ys,k as hs,S as bs}from"./SettingsModal-D3fWY-FP.js";import{aa as _s,ab as Rt,ac as ws,ad as ks,ae as $s,af as Fe,b as se,ag as Pt,ah as Nt,_ as le,e as D,A as Lt,u as ee,r as U,f as N,P as Be,ai as Se,k as W,o as h,p as E,D as Ot,F as $,s as I,m as t,I as O,E as j,l as z,q as et,j as S,a4 as de,J as K,$ as ve,C as f,aj as Cs,L as Ut,T as tt,t as he,ak as ye,y as Ee,al as Bt,N as ke,H as ge,n as re,am as Ss,d as V,an as Es,ao as Ts,ap as Ae,aq as Is,B as Ge,h as Rs,a as Ve,ar as we,as as ut,at as Ps,au as Ns,av as Ls,aw as Os,w as ue,K as Ue,ax as At,ay as Ft,az as Us,aA as Vt,aB as Bs,aC as As,aD as Le,V as oe,Z as Te,aE as Fs,aF as Vs,aG as st,G as ze,W as Ze,S as dt,U as pt,aH as zs,g as Me,aI as Ms,aJ as xs,aK as Ds,aL as zt,aM as Gs,aN as Mt,aO as xt,M as He,aP as Je,z as at,aQ as Hs,aR as js,aS as Ks,aT as Dt,Y as Gt,O as Ht,aU as ft,aV as qs,aW as Ws,a0 as Xs,aX as te,aY as jt,aZ as Ys,a_ as Kt,a$ as Zs,b0 as mt,b1 as Js,b2 as Qs,a1 as Ie,b3 as ea,b4 as qt,a5 as ta,a9 as q,b5 as je,b6 as sa,b7 as aa,b8 as oa,b9 as la,ba as na,bb as ra}from"./index-1cEe87gQ.js";import{c as ia}from"./format-input-ejjDCr06.js";import{i as ca}from"./isPlainObject-bmh1KNLy.js";function ua(e,o,a){var s=-1,l=e.length;o<0&&(o=-o>l?0:l+o),a=a>l?l:a,a<0&&(a+=l),l=o>a?0:a-o>>>0,o>>>=0;for(var r=Array(l);++s<l;)r[s]=e[s+o];return r}var da=1,pa=4;function vt(e){return St(e,da|pa)}function fa(e){var o=e==null?0:e.length;return o?e[o-1]:void 0}function ma(e,o){return o.length<2?e:_s(e,ua(o,0,-1))}function va(e,o){return o=Rt(o,e),e=ma(e,o),e==null||delete e[ws(fa(o))]}function ga(e){return ca(e)?void 0:e}var ya=1,ha=2,ba=4,_a=ss(function(e,o){var a={};if(e==null)return a;var s=!1;o=ks(o,function(r){return r=Rt(r,e),s||(s=r.length>1),r}),ia(e,as(e),a),s&&(a=St(a,ya|ha|ba,ga));for(var l=o.length;l--;)va(a,o[l]);return a}),wa="Expected a function";function Xe(e,o,a){var s=!0,l=!0;if(typeof e!="function")throw new TypeError(wa);return $s(a)&&(s="leading"in a?!!a.leading:s,l="trailing"in a?!!a.trailing:l),is(e,o,{leading:s,maxWait:o,trailing:l})}const ka=["light","dark"],$a=se({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Pt(Nt),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:ka,default:"light"},...cs}),Ca={open:()=>!0,close:e=>Fe(e)||e instanceof Event},Sa=D({name:"ElAlert"}),Ea=D({...Sa,props:$a,emits:Ca,setup(e,{emit:o}){const a=e,{Close:s}=Cs,l=Lt(),r=ee("alert"),i=U(!1),m=N(()=>Nt[a.type]),v=N(()=>!!(a.description||l.default)),u=()=>{i.value=!0,o("open")},g=c=>{i.value=!1,o("close",c)},{onOpen:k,onClose:b}=us({showAfter:Be(a,"showAfter"),hideAfter:Be(a,"hideAfter"),autoClose:Be(a,"autoClose"),open:u,close:g});return Se&&k(),(c,p)=>(h(),W(tt,{name:t(r).b("fade"),persisted:""},{default:E(()=>[Ot($("div",{class:I([t(r).b(),t(r).m(c.type),t(r).is("center",c.center),t(r).is(c.effect)]),role:"alert"},[c.showIcon&&(c.$slots.icon||t(m))?(h(),W(t(j),{key:0,class:I([t(r).e("icon"),{[t(r).is("big")]:t(v)}])},{default:E(()=>[z(c.$slots,"icon",{},()=>[(h(),W(et(t(m))))])]),_:3},8,["class"])):O("v-if",!0),$("div",{class:I(t(r).e("content"))},[c.title||c.$slots.title?(h(),S("span",{key:0,class:I([t(r).e("title"),{"with-description":t(v)}])},[z(c.$slots,"title",{},()=>[de(K(c.title),1)])],2)):O("v-if",!0),t(v)?(h(),S("p",{key:1,class:I(t(r).e("description"))},[z(c.$slots,"default",{},()=>[de(K(c.description),1)])],2)):O("v-if",!0),c.closable?(h(),S(ve,{key:2},[c.closeText?(h(),S("div",{key:0,class:I([t(r).e("close-btn"),t(r).is("customed")]),onClick:g},K(c.closeText),3)):(h(),W(t(j),{key:1,class:I(t(r).e("close-btn")),onClick:t(b)},{default:E(()=>[f(t(s))]),_:1},8,["class","onClick"]))],64)):O("v-if",!0)],2)],2),[[Ut,i.value]])]),_:3},8,["name"]))}});var Ta=le(Ea,[["__file","alert.vue"]]);const Ia=he(Ta),Ra={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},Pa={click:e=>e instanceof MouseEvent},Na=(e,o,a)=>{const s=ye(),l=ye(),r=U(!1),i=()=>{s.value&&(r.value=s.value.scrollTop>=e.visibilityHeight)},m=u=>{var g;(g=s.value)==null||g.scrollTo({top:0,behavior:"smooth"}),o("click",u)},v=Bt(i,300,!0);return Ee(l,"scroll",v),ke(()=>{var u;l.value=document,s.value=document.documentElement,e.target&&(s.value=(u=document.querySelector(e.target))!=null?u:void 0,s.value||$e(a,`target does not exist: ${e.target}`),l.value=s.value),i()}),{visible:r,handleClick:m}},Wt="ElBacktop",La=D({name:Wt}),Oa=D({...La,props:Ra,emits:Pa,setup(e,{emit:o}){const a=e,s=ee("backtop"),{handleClick:l,visible:r}=Na(a,o,Wt),i=N(()=>({right:`${a.right}px`,bottom:`${a.bottom}px`}));return(m,v)=>(h(),W(tt,{name:`${t(s).namespace.value}-fade-in`},{default:E(()=>[t(r)?(h(),S("div",{key:0,style:re(t(i)),class:I(t(s).b()),onClick:ge(t(l),["stop"])},[z(m.$slots,"default",{},()=>[f(t(j),{class:I(t(s).e("icon"))},{default:E(()=>[f(t(Ss))]),_:1},8,["class"])])],14,["onClick"])):O("v-if",!0)]),_:3},8,["name"]))}});var Ua=le(Oa,[["__file","backtop.vue"]]);const Ba=he(Ua),Aa=se({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:V([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:void 0}}),Fa=D({name:"ElCard"}),Va=D({...Fa,props:Aa,setup(e){const o=Es("card"),a=ee("card");return(s,l)=>{var r;return h(),S("div",{class:I([t(a).b(),t(a).is(`${s.shadow||((r=t(o))==null?void 0:r.shadow)||"always"}-shadow`)])},[s.$slots.header||s.header?(h(),S("div",{key:0,class:I([t(a).e("header"),s.headerClass])},[z(s.$slots,"header",{},()=>[de(K(s.header),1)])],2)):O("v-if",!0),$("div",{class:I([t(a).e("body"),s.bodyClass]),style:re(s.bodyStyle)},[z(s.$slots,"default")],6),s.$slots.footer||s.footer?(h(),S("div",{key:1,class:I([t(a).e("footer"),s.footerClass])},[z(s.$slots,"footer",{},()=>[de(K(s.footer),1)])],2)):O("v-if",!0)],2)}}});var za=le(Va,[["__file","card.vue"]]);const ot=he(za),Ma=(e,o,a)=>ds(e.subTree).filter(r=>{var i;return Is(r)&&((i=r.type)==null?void 0:i.name)===o&&!!r.component}).map(r=>r.component.uid).map(r=>a[r]).filter(r=>!!r),xa=(e,o)=>{const a=ye({}),s=ye([]),l=new WeakMap,r=g=>{a.value[g.uid]=g,Ae(a),ke(()=>{const k=g.getVnode().el,b=k.parentNode;if(!l.has(b)){l.set(b,[]);const c=b.insertBefore.bind(b);b.insertBefore=(p,n)=>(l.get(b).some(d=>p===d||n===d)&&Ae(a),c(p,n))}l.get(b).push(k)})},i=g=>{delete a.value[g.uid],Ae(a);const k=g.getVnode().el,b=k.parentNode,c=l.get(b),p=c.indexOf(k);c.splice(p,1)},m=()=>{s.value=Ma(e,o,a.value)},v=g=>g.render(),u=D({setup(g,{slots:k}){return()=>(m(),k.default?Ts(v,{render:k.default}):null)}});return{children:s,addChild:r,removeChild:i,ChildrenSorter:u}},Da=D({name:"ImgEmpty"}),Ga=D({...Da,setup(e){const o=ee("empty"),a=os();return(s,l)=>(h(),S("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[$("defs",null,[$("linearGradient",{id:`linearGradient-1-${t(a)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[$("stop",{"stop-color":`var(${t(o).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),$("stop",{"stop-color":`var(${t(o).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),$("linearGradient",{id:`linearGradient-2-${t(a)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[$("stop",{"stop-color":`var(${t(o).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),$("stop",{"stop-color":`var(${t(o).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),$("rect",{id:`path-3-${t(a)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),$("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[$("g",{transform:"translate(-1268.000000, -535.000000)"},[$("g",{transform:"translate(1268.000000, 535.000000)"},[$("path",{d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${t(o).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),$("polygon",{fill:`var(${t(o).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),$("g",{transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[$("polygon",{fill:`var(${t(o).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),$("polygon",{fill:`var(${t(o).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),$("rect",{fill:`url(#linearGradient-1-${t(a)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),$("polygon",{fill:`var(${t(o).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),$("rect",{fill:`url(#linearGradient-2-${t(a)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),$("g",{transform:"translate(53.000000, 45.000000)"},[$("use",{fill:`var(${t(o).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${t(a)}`},null,8,["fill","xlink:href"]),$("polygon",{fill:`var(${t(o).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${t(a)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),$("polygon",{fill:`var(${t(o).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var Ha=le(Ga,[["__file","img-empty.vue"]]);const ja=se({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),Ka=D({name:"ElEmpty"}),qa=D({...Ka,props:ja,setup(e){const o=e,{t:a}=Ge(),s=ee("empty"),l=N(()=>o.description||a("el.table.emptyText")),r=N(()=>({width:Rs(o.imageSize)}));return(i,m)=>(h(),S("div",{class:I(t(s).b())},[$("div",{class:I(t(s).e("image")),style:re(t(r))},[i.image?(h(),S("img",{key:0,src:i.image,ondragstart:"return false"},null,8,["src"])):z(i.$slots,"image",{key:1},()=>[f(Ha)])],6),$("div",{class:I(t(s).e("description"))},[i.$slots.description?z(i.$slots,"description",{key:0}):(h(),S("p",{key:1},K(t(l)),1))],2),i.$slots.default?(h(),S("div",{key:0,class:I(t(s).e("bottom"))},[z(i.$slots,"default")],2)):O("v-if",!0)],2))}});var Wa=le(qa,[["__file","empty.vue"]]);const Xa=he(Wa),Ya=se({urlList:{type:V(Array),default:()=>we([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:V(String)}}),Za={close:()=>!0,switch:e=>Ve(e),rotate:e=>Ve(e)},Ja=D({name:"ElImageViewer"}),Qa=D({...Ja,props:Ya,emits:Za,setup(e,{expose:o,emit:a}){var s;const l=e,r={CONTAIN:{name:"contain",icon:ut(Ns)},ORIGINAL:{name:"original",icon:ut(Ps)}};let i,m="";const{t:v}=Ge(),u=ee("image-viewer"),{nextZIndex:g}=Ls(),k=U(),b=U([]),c=Os(),p=U(!0),n=U(l.initialIndex),y=ye(r.CONTAIN),d=U({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),_=U((s=l.zIndex)!=null?s:g()),w=N(()=>{const{urlList:B}=l;return B.length<=1}),L=N(()=>n.value===0),T=N(()=>n.value===l.urlList.length-1),C=N(()=>l.urlList[n.value]),R=N(()=>[u.e("btn"),u.e("prev"),u.is("disabled",!l.infinite&&L.value)]),H=N(()=>[u.e("btn"),u.e("next"),u.is("disabled",!l.infinite&&T.value)]),Y=N(()=>{const{scale:B,deg:Z,offsetX:G,offsetY:ce,enableTransition:fe}=d.value;let me=G/B,be=ce/B;const Ne=Z*Math.PI/180,it=Math.cos(Ne),ct=Math.sin(Ne);me=me*it+be*ct,be=be*it-G/B*ct;const We={transform:`scale(${B}) rotate(${Z}deg) translate(${me}px, ${be}px)`,transition:fe?"transform .3s":""};return y.value.name===r.CONTAIN.name&&(We.maxWidth=We.maxHeight="100%"),We}),X=N(()=>`${n.value+1} / ${l.urlList.length}`);function ne(){A(),i?.(),document.body.style.overflow=m,a("close")}function pe(){const B=Xe(G=>{switch(G.code){case oe.esc:l.closeOnPressEscape&&ne();break;case oe.space:Q();break;case oe.left:ae();break;case oe.up:ie("zoomIn");break;case oe.right:Re();break;case oe.down:ie("zoomOut");break}}),Z=Xe(G=>{const ce=G.deltaY||G.deltaX;ie(ce<0?"zoomIn":"zoomOut",{zoomRate:l.zoomRate,enableTransition:!1})});c.run(()=>{Ee(document,"keydown",B),Ee(document,"wheel",Z)})}function A(){c.stop()}function M(){p.value=!1}function F(B){p.value=!1,B.target.alt=v("el.image.error")}function P(B){if(p.value||B.button!==0||!k.value)return;d.value.enableTransition=!1;const{offsetX:Z,offsetY:G}=d.value,ce=B.pageX,fe=B.pageY,me=Xe(Ne=>{d.value={...d.value,offsetX:Z+Ne.pageX-ce,offsetY:G+Ne.pageY-fe}}),be=Ee(document,"mousemove",me);Ee(document,"mouseup",()=>{be()}),B.preventDefault()}function x(){d.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function Q(){if(p.value)return;const B=Pt(r),Z=Object.values(r),G=y.value.name,fe=(Z.findIndex(me=>me.name===G)+1)%B.length;y.value=r[B[fe]],x()}function J(B){const Z=l.urlList.length;n.value=(B+Z)%Z}function ae(){L.value&&!l.infinite||J(n.value-1)}function Re(){T.value&&!l.infinite||J(n.value+1)}function ie(B,Z={}){if(p.value)return;const{minScale:G,maxScale:ce}=l,{zoomRate:fe,rotateDeg:me,enableTransition:be}={zoomRate:l.zoomRate,rotateDeg:90,enableTransition:!0,...Z};switch(B){case"zoomOut":d.value.scale>G&&(d.value.scale=Number.parseFloat((d.value.scale/fe).toFixed(3)));break;case"zoomIn":d.value.scale<ce&&(d.value.scale=Number.parseFloat((d.value.scale*fe).toFixed(3)));break;case"clockwise":d.value.deg+=me,a("rotate",d.value.deg);break;case"anticlockwise":d.value.deg-=me,a("rotate",d.value.deg);break}d.value.enableTransition=be}function Ce(B){var Z;((Z=B.detail)==null?void 0:Z.focusReason)==="pointer"&&B.preventDefault()}function Pe(){l.closeOnPressEscape&&ne()}function qe(B){if(B.ctrlKey){if(B.deltaY<0)return B.preventDefault(),!1;if(B.deltaY>0)return B.preventDefault(),!1}}return ue(C,()=>{Te(()=>{const B=b.value[0];B?.complete||(p.value=!0)})}),ue(n,B=>{x(),a("switch",B)}),ke(()=>{pe(),i=Ee("wheel",qe,{passive:!1}),m=document.body.style.overflow,document.body.style.overflow="hidden"}),o({setActiveItem:J}),(B,Z)=>(h(),W(t(fs),{to:"body",disabled:!B.teleported},{default:E(()=>[f(tt,{name:"viewer-fade",appear:""},{default:E(()=>[$("div",{ref_key:"wrapper",ref:k,tabindex:-1,class:I(t(u).e("wrapper")),style:re({zIndex:_.value})},[f(t(ps),{loop:"",trapped:"","focus-trap-el":k.value,"focus-start-el":"container",onFocusoutPrevented:Ce,onReleaseRequested:Pe},{default:E(()=>[$("div",{class:I(t(u).e("mask")),onClick:ge(G=>B.hideOnClickModal&&ne(),["self"])},null,10,["onClick"]),O(" CLOSE "),$("span",{class:I([t(u).e("btn"),t(u).e("close")]),onClick:ne},[f(t(j),null,{default:E(()=>[f(t(Ue))]),_:1})],2),O(" ARROW "),t(w)?O("v-if",!0):(h(),S(ve,{key:0},[$("span",{class:I(t(R)),onClick:ae},[f(t(j),null,{default:E(()=>[f(t(At))]),_:1})],2),$("span",{class:I(t(H)),onClick:Re},[f(t(j),null,{default:E(()=>[f(t(Ft))]),_:1})],2)],64)),B.$slots.progress||B.showProgress?(h(),S("div",{key:1,class:I([t(u).e("btn"),t(u).e("progress")])},[z(B.$slots,"progress",{activeIndex:n.value,total:B.urlList.length},()=>[de(K(t(X)),1)])],2)):O("v-if",!0),O(" ACTIONS "),$("div",{class:I([t(u).e("btn"),t(u).e("actions")])},[$("div",{class:I(t(u).e("actions__inner"))},[z(B.$slots,"toolbar",{actions:ie,prev:ae,next:Re,reset:Q,activeIndex:n.value,setActiveItem:J},()=>[f(t(j),{onClick:G=>ie("zoomOut")},{default:E(()=>[f(t(Us))]),_:1},8,["onClick"]),f(t(j),{onClick:G=>ie("zoomIn")},{default:E(()=>[f(t(Vt))]),_:1},8,["onClick"]),$("i",{class:I(t(u).e("actions__divider"))},null,2),f(t(j),{onClick:Q},{default:E(()=>[(h(),W(et(t(y).icon)))]),_:1}),$("i",{class:I(t(u).e("actions__divider"))},null,2),f(t(j),{onClick:G=>ie("anticlockwise")},{default:E(()=>[f(t(Bs))]),_:1},8,["onClick"]),f(t(j),{onClick:G=>ie("clockwise")},{default:E(()=>[f(t(As))]),_:1},8,["onClick"])])],2)],2),O(" CANVAS "),$("div",{class:I(t(u).e("canvas"))},[(h(!0),S(ve,null,Le(B.urlList,(G,ce)=>(h(),S(ve,{key:ce},[ce===n.value?(h(),S("img",{key:0,ref_for:!0,ref:fe=>b.value[ce]=fe,src:G,style:re(t(Y)),class:I(t(u).e("img")),crossorigin:B.crossorigin,onLoad:M,onError:F,onMousedown:P},null,46,["src","crossorigin"])):O("v-if",!0)],64))),128))],2),z(B.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var eo=le(Qa,[["__file","image-viewer.vue"]]);const to=he(eo),so=se({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:V([String,Object])},previewSrcList:{type:V(Array),default:()=>we([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:V(String)}}),ao={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>Ve(e),close:()=>!0,show:()=>!0},oo=D({name:"ElImage",inheritAttrs:!1}),lo=D({...oo,props:so,emits:ao,setup(e,{expose:o,emit:a}){const s=e,{t:l}=Ge(),r=ee("image"),i=Fs(),m=N(()=>Vs(Object.entries(i).filter(([P])=>/^(data-|on[A-Z])/i.test(P)||["id","style"].includes(P)))),v=ls({excludeListeners:!0,excludeKeys:N(()=>Object.keys(m.value))}),u=U(),g=U(!1),k=U(!0),b=U(!1),c=U(),p=U(),n=Se&&"loading"in HTMLImageElement.prototype;let y;const d=N(()=>[r.e("inner"),w.value&&r.e("preview"),k.value&&r.is("loading")]),_=N(()=>{const{fit:P}=s;return Se&&P?{objectFit:P}:{}}),w=N(()=>{const{previewSrcList:P}=s;return st(P)&&P.length>0}),L=N(()=>{const{previewSrcList:P,initialIndex:x}=s;let Q=x;return x>P.length-1&&(Q=0),Q}),T=N(()=>s.loading==="eager"?!1:!n&&s.loading==="lazy"||s.lazy),C=()=>{Se&&(k.value=!0,g.value=!1,u.value=s.src)};function R(P){k.value=!1,g.value=!1,a("load",P)}function H(P){k.value=!1,g.value=!0,a("error",P)}function Y(P){P&&(C(),pe())}const X=Bt(Y,200,!0);async function ne(){var P;if(!Se)return;await Te();const{scrollContainer:x}=s;if(zs(x))p.value=x;else if(Me(x)&&x!=="")p.value=(P=document.querySelector(x))!=null?P:void 0;else if(c.value){const J=ms(c.value);p.value=Ms(J)?void 0:J}const{stop:Q}=xs(c,([J])=>{X(J.isIntersecting)},{root:p});y=Q}function pe(){!Se||!X||(y?.(),p.value=void 0,y=void 0)}function A(){w.value&&(b.value=!0,a("show"))}function M(){b.value=!1,a("close")}function F(P){a("switch",P)}return ue(()=>s.src,()=>{T.value?(k.value=!0,g.value=!1,pe(),ne()):C()}),ke(()=>{T.value?ne():C()}),o({showPreview:A}),(P,x)=>(h(),S("div",ze({ref_key:"container",ref:c},t(m),{class:[t(r).b(),P.$attrs.class]}),[g.value?z(P.$slots,"error",{key:0},()=>[$("div",{class:I(t(r).e("error"))},K(t(l)("el.image.error")),3)]):(h(),S(ve,{key:1},[u.value!==void 0?(h(),S("img",ze({key:0},t(v),{src:u.value,loading:P.loading,style:t(_),class:t(d),crossorigin:P.crossorigin,onClick:A,onLoad:R,onError:H}),null,16,["src","loading","crossorigin"])):O("v-if",!0),k.value?(h(),S("div",{key:1,class:I(t(r).e("wrapper"))},[z(P.$slots,"placeholder",{},()=>[$("div",{class:I(t(r).e("placeholder"))},null,2)])],2)):O("v-if",!0)],64)),t(w)?(h(),S(ve,{key:2},[b.value?(h(),W(t(to),{key:0,"z-index":P.zIndex,"initial-index":t(L),infinite:P.infinite,"zoom-rate":P.zoomRate,"min-scale":P.minScale,"max-scale":P.maxScale,"show-progress":P.showProgress,"url-list":P.previewSrcList,crossorigin:P.crossorigin,"hide-on-click-modal":P.hideOnClickModal,teleported:P.previewTeleported,"close-on-press-escape":P.closeOnPressEscape,onClose:M,onSwitch:F},Ze({toolbar:E(Q=>[z(P.$slots,"toolbar",dt(pt(Q)))]),default:E(()=>[P.$slots.viewer?(h(),S("div",{key:0},[z(P.$slots,"viewer")])):O("v-if",!0)]),_:2},[P.$slots.progress?{name:"progress",fn:E(Q=>[z(P.$slots,"progress",dt(pt(Q)))])}:void 0]),1032,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):O("v-if",!0)],64)):O("v-if",!0)],16))}});var no=le(lo,[["__file","image.vue"]]);const lt=he(no),ro=se({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:V(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:V([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:V(Function),default:e=>`${e}%`}}),io=D({name:"ElProgress"}),co=D({...io,props:ro,setup(e){const o=e,a={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},s=ee("progress"),l=N(()=>{const w={width:`${o.percentage}%`,animationDuration:`${o.duration}s`},L=_(o.percentage);return L.includes("gradient")?w.background=L:w.backgroundColor=L,w}),r=N(()=>(o.strokeWidth/o.width*100).toFixed(1)),i=N(()=>["circle","dashboard"].includes(o.type)?Number.parseInt(`${50-Number.parseFloat(r.value)/2}`,10):0),m=N(()=>{const w=i.value,L=o.type==="dashboard";return`
          M 50 50
          m 0 ${L?"":"-"}${w}
          a ${w} ${w} 0 1 1 0 ${L?"-":""}${w*2}
          a ${w} ${w} 0 1 1 0 ${L?"":"-"}${w*2}
          `}),v=N(()=>2*Math.PI*i.value),u=N(()=>o.type==="dashboard"?.75:1),g=N(()=>`${-1*v.value*(1-u.value)/2}px`),k=N(()=>({strokeDasharray:`${v.value*u.value}px, ${v.value}px`,strokeDashoffset:g.value})),b=N(()=>({strokeDasharray:`${v.value*u.value*(o.percentage/100)}px, ${v.value}px`,strokeDashoffset:g.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),c=N(()=>{let w;return o.color?w=_(o.percentage):w=a[o.status]||a.default,w}),p=N(()=>o.status==="warning"?Ds:o.type==="line"?o.status==="success"?zt:Gs:o.status==="success"?Mt:Ue),n=N(()=>o.type==="line"?12+o.strokeWidth*.4:o.width*.111111+2),y=N(()=>o.format(o.percentage));function d(w){const L=100/w.length;return w.map((C,R)=>Me(C)?{color:C,percentage:(R+1)*L}:C).sort((C,R)=>C.percentage-R.percentage)}const _=w=>{var L;const{color:T}=o;if(xt(T))return T(w);if(Me(T))return T;{const C=d(T);for(const R of C)if(R.percentage>w)return R.color;return(L=C[C.length-1])==null?void 0:L.color}};return(w,L)=>(h(),S("div",{class:I([t(s).b(),t(s).m(w.type),t(s).is(w.status),{[t(s).m("without-text")]:!w.showText,[t(s).m("text-inside")]:w.textInside}]),role:"progressbar","aria-valuenow":w.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[w.type==="line"?(h(),S("div",{key:0,class:I(t(s).b("bar"))},[$("div",{class:I(t(s).be("bar","outer")),style:re({height:`${w.strokeWidth}px`})},[$("div",{class:I([t(s).be("bar","inner"),{[t(s).bem("bar","inner","indeterminate")]:w.indeterminate},{[t(s).bem("bar","inner","striped")]:w.striped},{[t(s).bem("bar","inner","striped-flow")]:w.stripedFlow}]),style:re(t(l))},[(w.showText||w.$slots.default)&&w.textInside?(h(),S("div",{key:0,class:I(t(s).be("bar","innerText"))},[z(w.$slots,"default",{percentage:w.percentage},()=>[$("span",null,K(t(y)),1)])],2)):O("v-if",!0)],6)],6)],2)):(h(),S("div",{key:1,class:I(t(s).b("circle")),style:re({height:`${w.width}px`,width:`${w.width}px`})},[(h(),S("svg",{viewBox:"0 0 100 100"},[$("path",{class:I(t(s).be("circle","track")),d:t(m),stroke:`var(${t(s).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":w.strokeLinecap,"stroke-width":t(r),fill:"none",style:re(t(k))},null,14,["d","stroke","stroke-linecap","stroke-width"]),$("path",{class:I(t(s).be("circle","path")),d:t(m),stroke:t(c),fill:"none",opacity:w.percentage?1:0,"stroke-linecap":w.strokeLinecap,"stroke-width":t(r),style:re(t(b))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(w.showText||w.$slots.default)&&!w.textInside?(h(),S("div",{key:2,class:I(t(s).e("text")),style:re({fontSize:`${t(n)}px`})},[z(w.$slots,"default",{percentage:w.percentage},()=>[w.status?(h(),W(t(j),{key:1},{default:E(()=>[(h(),W(et(t(p))))]),_:1})):(h(),S("span",{key:0},K(t(y)),1))])],6)):O("v-if",!0)],10,["aria-valuenow"]))}});var uo=le(co,[["__file","progress.vue"]]);const po=he(uo),Ke=Symbol("tabsRootContextKey"),fo=se({tabs:{type:V(Array),default:()=>we([])},tabRefs:{type:V(Object),default:()=>we({})}}),Xt="ElTabBar",mo=D({name:Xt}),vo=D({...mo,props:fo,setup(e,{expose:o}){const a=e,s=He(Ke);s||$e(Xt,"<el-tabs><el-tab-bar /></el-tabs>");const l=ee("tabs"),r=U(),i=U(),m=()=>{let b=0,c=0;const p=["top","bottom"].includes(s.props.tabPosition)?"width":"height",n=p==="width"?"x":"y",y=n==="x"?"left":"top";return a.tabs.every(d=>{if(Fe(d.paneName))return!1;const _=a.tabRefs[d.paneName];if(!_)return!1;if(!d.active)return!0;b=_[`offset${_e(y)}`],c=_[`client${_e(p)}`];const w=window.getComputedStyle(_);return p==="width"&&(c-=Number.parseFloat(w.paddingLeft)+Number.parseFloat(w.paddingRight),b+=Number.parseFloat(w.paddingLeft)),!1}),{[p]:`${c}px`,transform:`translate${_e(n)}(${b}px)`}},v=()=>i.value=m(),u=[],g=()=>{u.forEach(b=>b.stop()),u.length=0,Object.values(a.tabRefs).forEach(b=>{u.push(Je(b,v))})};ue(()=>a.tabs,async()=>{await Te(),v(),g()},{immediate:!0});const k=Je(r,()=>v());return at(()=>{u.forEach(b=>b.stop()),u.length=0,k.stop()}),o({ref:r,update:v}),(b,c)=>(h(),S("div",{ref_key:"barRef",ref:r,class:I([t(l).e("active-bar"),t(l).is(t(s).props.tabPosition)]),style:re(i.value)},null,6))}});var go=le(vo,[["__file","tab-bar.vue"]]);const yo=se({panes:{type:V(Array),default:()=>we([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ho={tabClick:(e,o,a)=>a instanceof Event,tabRemove:(e,o)=>o instanceof Event},gt="ElTabNav",bo=D({name:gt,props:yo,emits:ho,setup(e,{expose:o,emit:a}){const s=He(Ke);s||$e(gt,"<el-tabs><tab-nav /></el-tabs>");const l=ee("tabs"),r=Hs(),i=js(),m=U(),v=U(),u=U(),g=U({}),k=U(),b=U(!1),c=U(0),p=U(!1),n=U(!0),y=ye(),d=N(()=>["top","bottom"].includes(s.props.tabPosition)),_=N(()=>d.value?"width":"height"),w=N(()=>({transform:`translate${_.value==="width"?"X":"Y"}(-${c.value}px)`})),L=()=>{if(!m.value)return;const A=m.value[`offset${_e(_.value)}`],M=c.value;if(!M)return;const F=M>A?M-A:0;c.value=F},T=()=>{if(!m.value||!v.value)return;const A=v.value[`offset${_e(_.value)}`],M=m.value[`offset${_e(_.value)}`],F=c.value;if(A-F<=M)return;const P=A-F>M*2?F+M:A-M;c.value=P},C=async()=>{const A=v.value;if(!b.value||!u.value||!m.value||!A)return;await Te();const M=g.value[e.currentName];if(!M)return;const F=m.value,P=M.getBoundingClientRect(),x=F.getBoundingClientRect(),Q=d.value?A.offsetWidth-x.width:A.offsetHeight-x.height,J=c.value;let ae=J;d.value?(P.left<x.left&&(ae=J-(x.left-P.left)),P.right>x.right&&(ae=J+P.right-x.right)):(P.top<x.top&&(ae=J-(x.top-P.top)),P.bottom>x.bottom&&(ae=J+(P.bottom-x.bottom))),ae=Math.max(ae,0),c.value=Math.min(ae,Q)},R=()=>{var A;if(!v.value||!m.value)return;e.stretch&&((A=k.value)==null||A.update());const M=v.value[`offset${_e(_.value)}`],F=m.value[`offset${_e(_.value)}`],P=c.value;F<M?(b.value=b.value||{},b.value.prev=P,b.value.next=P+F<M,M-P<F&&(c.value=M-F)):(b.value=!1,P>0&&(c.value=0))},H=A=>{let M=0;switch(A.code){case oe.left:case oe.up:M=-1;break;case oe.right:case oe.down:M=1;break;default:return}const F=Array.from(A.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let x=F.indexOf(A.target)+M;x<0?x=F.length-1:x>=F.length&&(x=0),F[x].focus({preventScroll:!0}),F[x].click(),Y()},Y=()=>{n.value&&(p.value=!0)},X=()=>p.value=!1,ne=(A,M)=>{g.value[M]=A},pe=async()=>{await Te();const A=g.value[e.currentName];A?.focus({preventScroll:!0})};return ue(r,A=>{A==="hidden"?n.value=!1:A==="visible"&&setTimeout(()=>n.value=!0,50)}),ue(i,A=>{A?setTimeout(()=>n.value=!0,50):n.value=!1}),Je(u,R),ke(()=>setTimeout(()=>C(),0)),Ks(()=>R()),o({scrollToActiveTab:C,removeFocus:X,focusActiveTab:pe,tabListRef:v,tabBarRef:k,scheduleRender:()=>Ae(y)}),()=>{const A=b.value?[f("span",{class:[l.e("nav-prev"),l.is("disabled",!b.value.prev)],onClick:L},[f(j,null,{default:()=>[f(At,null,null)]})]),f("span",{class:[l.e("nav-next"),l.is("disabled",!b.value.next)],onClick:T},[f(j,null,{default:()=>[f(Ft,null,null)]})])]:null,M=e.panes.map((F,P)=>{var x,Q,J,ae;const Re=F.uid,ie=F.props.disabled,Ce=(Q=(x=F.props.name)!=null?x:F.index)!=null?Q:`${P}`,Pe=!ie&&(F.isClosable||e.editable);F.index=`${P}`;const qe=Pe?f(j,{class:"is-icon-close",onClick:G=>a("tabRemove",F,G)},{default:()=>[f(Ue,null,null)]}):null,B=((ae=(J=F.slots).label)==null?void 0:ae.call(J))||F.props.label,Z=!ie&&F.active?0:-1;return f("div",{ref:G=>ne(G,Ce),class:[l.e("item"),l.is(s.props.tabPosition),l.is("active",F.active),l.is("disabled",ie),l.is("closable",Pe),l.is("focus",p.value)],id:`tab-${Ce}`,key:`tab-${Re}`,"aria-controls":`pane-${Ce}`,role:"tab","aria-selected":F.active,tabindex:Z,onFocus:()=>Y(),onBlur:()=>X(),onClick:G=>{X(),a("tabClick",F,Ce,G)},onKeydown:G=>{Pe&&(G.code===oe.delete||G.code===oe.backspace)&&a("tabRemove",F,G)}},[B,qe])});return y.value,f("div",{ref:u,class:[l.e("nav-wrap"),l.is("scrollable",!!b.value),l.is(s.props.tabPosition)]},[A,f("div",{class:l.e("nav-scroll"),ref:m},[e.panes.length>0?f("div",{class:[l.e("nav"),l.is(s.props.tabPosition),l.is("stretch",e.stretch&&["top","bottom"].includes(s.props.tabPosition))],ref:v,style:w.value,role:"tablist",onKeydown:H},[e.type?null:f(go,{ref:k,tabs:[...e.panes],tabRefs:g.value},null),M]):null])])}}}),_o=se({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:V(Function),default:()=>!0},stretch:Boolean}),Ye=e=>Me(e)||Ve(e),wo={[Et]:e=>Ye(e),tabClick:(e,o)=>o instanceof Event,tabChange:e=>Ye(e),edit:(e,o)=>["remove","add"].includes(o),tabRemove:e=>Ye(e),tabAdd:()=>!0},ko=D({name:"ElTabs",props:_o,emits:wo,setup(e,{emit:o,slots:a,expose:s}){var l;const r=ee("tabs"),i=N(()=>["left","right"].includes(e.tabPosition)),{children:m,addChild:v,removeChild:u,ChildrenSorter:g}=xa(Gt(),"ElTabPane"),k=U(),b=U((l=e.modelValue)!=null?l:"0"),c=async(_,w=!1)=>{var L,T,C,R;if(!(b.value===_||Fe(_)))try{let H;if(e.beforeLeave){const Y=e.beforeLeave(_,b.value);H=Y instanceof Promise?await Y:Y}else H=!0;if(H!==!1){const Y=(L=m.value.find(X=>X.paneName===b.value))==null?void 0:L.isFocusInsidePane();b.value=_,w&&(o(Et,_),o("tabChange",_)),(C=(T=k.value)==null?void 0:T.removeFocus)==null||C.call(T),Y&&((R=k.value)==null||R.focusActiveTab())}}catch{}},p=(_,w,L)=>{_.props.disabled||(o("tabClick",_,L),c(w,!0))},n=(_,w)=>{_.props.disabled||Fe(_.props.name)||(w.stopPropagation(),o("edit",_.props.name,"remove"),o("tabRemove",_.props.name))},y=()=>{o("edit",void 0,"add"),o("tabAdd")},d=_=>{const w=_.el.firstChild,L=["bottom","right"].includes(e.tabPosition)?_.children[0].el:_.children[1].el;w!==L&&w.before(L)};return ue(()=>e.modelValue,_=>c(_)),ue(b,async()=>{var _;await Te(),(_=k.value)==null||_.scrollToActiveTab()}),Ht(Ke,{props:e,currentName:b,registerPane:v,unregisterPane:u,nav$:k}),s({currentName:b,get tabNavRef(){return _a(k.value,["scheduleRender"])}}),()=>{const _=a["add-icon"],w=e.editable||e.addable?f("div",{class:[r.e("new-tab"),i.value&&r.e("new-tab-vertical")],tabindex:"0",onClick:y,onKeydown:R=>{[oe.enter,oe.numpadEnter].includes(R.code)&&y()}},[_?z(a,"add-icon"):f(j,{class:r.is("icon-plus")},{default:()=>[f(Dt,null,null)]})]):null,L=()=>f(bo,{ref:k,currentName:b.value,editable:e.editable,type:e.type,panes:m.value,stretch:e.stretch,onTabClick:p,onTabRemove:n},null),T=f("div",{class:[r.e("header"),i.value&&r.e("header-vertical"),r.is(e.tabPosition)]},[f(g,null,{default:L,$stable:!0}),w]),C=f("div",{class:r.e("content")},[z(a,"default")]);return f("div",{class:[r.b(),r.m(e.tabPosition),{[r.m("card")]:e.type==="card",[r.m("border-card")]:e.type==="border-card"}],onVnodeMounted:d,onVnodeUpdated:d},[C,T])}}});var $o=ko;const Co=se({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Yt="ElTabPane",So=D({name:Yt}),Eo=D({...So,props:Co,setup(e){const o=e,a=Gt(),s=Lt(),l=He(Ke);l||$e(Yt,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const r=ee("tab-pane"),i=U(),m=U(),v=N(()=>o.closable||l.props.closable),u=ft(()=>{var n;return l.currentName.value===((n=o.name)!=null?n:m.value)}),g=U(u.value),k=N(()=>{var n;return(n=o.name)!=null?n:m.value}),b=ft(()=>!o.lazy||g.value||u.value),c=()=>{var n;return(n=i.value)==null?void 0:n.contains(document.activeElement)};ue(u,n=>{n&&(g.value=!0)});const p=qs({uid:a.uid,getVnode:()=>a.vnode,slots:s,props:o,paneName:k,active:u,index:m,isClosable:v,isFocusInsidePane:c});return l.registerPane(p),at(()=>{l.unregisterPane(p)}),Ws(()=>{var n;s.label&&((n=l.nav$.value)==null||n.scheduleRender())}),(n,y)=>t(b)?Ot((h(),S("div",{key:0,id:`pane-${t(k)}`,ref_key:"paneRef",ref:i,class:I(t(r).b()),role:"tabpanel","aria-hidden":!t(u),"aria-labelledby":`tab-${t(k)}`},[z(n.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Ut,t(u)]]):O("v-if",!0)}});var Zt=le(Eo,[["__file","tab-pane.vue"]]);const To=he($o,{TabPane:Zt}),Io=Xs(Zt),Jt=Symbol("uploadContextKey"),Ro="ElUpload";class Po extends Error{constructor(o,a,s,l){super(o),this.name="UploadAjaxError",this.status=a,this.method=s,this.url=l}}function yt(e,o,a){let s;return a.response?s=`${a.response.error||a.response}`:a.responseText?s=`${a.responseText}`:s=`fail to ${o.method} ${e} ${a.status}`,new Po(s,a.status,o.method,e)}function No(e){const o=e.responseText||e.response;if(!o)return o;try{return JSON.parse(o)}catch{return o}}const Lo=e=>{typeof XMLHttpRequest>"u"&&$e(Ro,"XMLHttpRequest is undefined");const o=new XMLHttpRequest,a=e.action;o.upload&&o.upload.addEventListener("progress",r=>{const i=r;i.percent=r.total>0?r.loaded/r.total*100:0,e.onProgress(i)});const s=new FormData;if(e.data)for(const[r,i]of Object.entries(e.data))st(i)&&i.length?s.append(r,...i):s.append(r,i);s.append(e.filename,e.file,e.file.name),o.addEventListener("error",()=>{e.onError(yt(a,e,o))}),o.addEventListener("load",()=>{if(o.status<200||o.status>=300)return e.onError(yt(a,e,o));e.onSuccess(No(o))}),o.open(e.method,a,!0),e.withCredentials&&"withCredentials"in o&&(o.withCredentials=!0);const l=e.headers||{};if(l instanceof Headers)l.forEach((r,i)=>o.setRequestHeader(i,r));else for(const[r,i]of Object.entries(l))Tt(i)||o.setRequestHeader(r,String(i));return o.send(s),o},Qt=["text","picture","picture-card"];let Oo=1;const Qe=()=>Date.now()+Oo++,es=se({action:{type:String,default:"#"},headers:{type:V(Object)},method:{type:String,default:"post"},data:{type:V([Object,Function,Promise]),default:()=>we({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:V(Array),default:()=>we([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Qt,default:"text"},httpRequest:{type:V(Function),default:Lo},disabled:Boolean,limit:Number}),Uo=se({...es,beforeUpload:{type:V(Function),default:te},beforeRemove:{type:V(Function)},onRemove:{type:V(Function),default:te},onChange:{type:V(Function),default:te},onPreview:{type:V(Function),default:te},onSuccess:{type:V(Function),default:te},onProgress:{type:V(Function),default:te},onError:{type:V(Function),default:te},onExceed:{type:V(Function),default:te},crossorigin:{type:V(String)}}),Bo=se({files:{type:V(Array),default:()=>we([])},disabled:Boolean,handlePreview:{type:V(Function),default:te},listType:{type:String,values:Qt,default:"text"},crossorigin:{type:V(String)}}),Ao={remove:e=>!!e},Fo=D({name:"ElUploadList"}),Vo=D({...Fo,props:Bo,emits:Ao,setup(e,{emit:o}){const a=e,{t:s}=Ge(),l=ee("upload"),r=ee("icon"),i=ee("list"),m=xe(),v=U(!1),u=N(()=>[l.b("list"),l.bm("list",a.listType),l.is("disabled",a.disabled)]),g=k=>{o("remove",k)};return(k,b)=>(h(),W(Zs,{tag:"ul",class:I(t(u)),name:t(i).b()},{default:E(()=>[(h(!0),S(ve,null,Le(k.files,(c,p)=>(h(),S("li",{key:c.uid||c.name,class:I([t(l).be("list","item"),t(l).is(c.status),{focusing:v.value}]),tabindex:"0",onKeydown:jt(n=>!t(m)&&g(c),["delete"]),onFocus:n=>v.value=!0,onBlur:n=>v.value=!1,onClick:n=>v.value=!1},[z(k.$slots,"default",{file:c,index:p},()=>[k.listType==="picture"||c.status!=="uploading"&&k.listType==="picture-card"?(h(),S("img",{key:0,class:I(t(l).be("list","item-thumbnail")),src:c.url,crossorigin:k.crossorigin,alt:""},null,10,["src","crossorigin"])):O("v-if",!0),c.status==="uploading"||k.listType!=="picture-card"?(h(),S("div",{key:1,class:I(t(l).be("list","item-info"))},[$("a",{class:I(t(l).be("list","item-name")),onClick:ge(n=>k.handlePreview(c),["prevent"])},[f(t(j),{class:I(t(r).m("document"))},{default:E(()=>[f(t(Ys))]),_:1},8,["class"]),$("span",{class:I(t(l).be("list","item-file-name")),title:c.name},K(c.name),11,["title"])],10,["onClick"]),c.status==="uploading"?(h(),W(t(po),{key:0,type:k.listType==="picture-card"?"circle":"line","stroke-width":k.listType==="picture-card"?6:2,percentage:Number(c.percentage),style:re(k.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):O("v-if",!0)],2)):O("v-if",!0),$("label",{class:I(t(l).be("list","item-status-label"))},[k.listType==="text"?(h(),W(t(j),{key:0,class:I([t(r).m("upload-success"),t(r).m("circle-check")])},{default:E(()=>[f(t(zt))]),_:1},8,["class"])):["picture-card","picture"].includes(k.listType)?(h(),W(t(j),{key:1,class:I([t(r).m("upload-success"),t(r).m("check")])},{default:E(()=>[f(t(Mt))]),_:1},8,["class"])):O("v-if",!0)],2),t(m)?O("v-if",!0):(h(),W(t(j),{key:2,class:I(t(r).m("close")),onClick:n=>g(c)},{default:E(()=>[f(t(Ue))]),_:2},1032,["class","onClick"])),O(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),O(" This is a bug which needs to be fixed "),O(" TODO: Fix the incorrect navigation interaction "),t(m)?O("v-if",!0):(h(),S("i",{key:3,class:I(t(r).m("close-tip"))},K(t(s)("el.upload.deleteTip")),3)),k.listType==="picture-card"?(h(),S("span",{key:4,class:I(t(l).be("list","item-actions"))},[$("span",{class:I(t(l).be("list","item-preview")),onClick:n=>k.handlePreview(c)},[f(t(j),{class:I(t(r).m("zoom-in"))},{default:E(()=>[f(t(Vt))]),_:1},8,["class"])],10,["onClick"]),t(m)?O("v-if",!0):(h(),S("span",{key:0,class:I(t(l).be("list","item-delete")),onClick:n=>g(c)},[f(t(j),{class:I(t(r).m("delete"))},{default:E(()=>[f(t(Kt))]),_:1},8,["class"])],10,["onClick"]))],2)):O("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),z(k.$slots,"append")]),_:3},8,["class","name"]))}});var ht=le(Vo,[["__file","upload-list.vue"]]);const zo=se({disabled:Boolean}),Mo={file:e=>st(e)},ts="ElUploadDrag",xo=D({name:ts}),Do=D({...xo,props:zo,emits:Mo,setup(e,{emit:o}){He(Jt)||$e(ts,"usage: <el-upload><el-upload-dragger /></el-upload>");const s=ee("upload"),l=U(!1),r=xe(),i=u=>{if(r.value)return;l.value=!1,u.stopPropagation();const g=Array.from(u.dataTransfer.files),k=u.dataTransfer.items||[];g.forEach((b,c)=>{var p;const n=k[c],y=(p=n?.webkitGetAsEntry)==null?void 0:p.call(n);y&&(b.isDirectory=y.isDirectory)}),o("file",g)},m=()=>{r.value||(l.value=!0)},v=u=>{u.currentTarget.contains(u.relatedTarget)||(l.value=!1)};return(u,g)=>(h(),S("div",{class:I([t(s).b("dragger"),t(s).is("dragover",l.value)]),onDrop:ge(i,["prevent"]),onDragover:ge(m,["prevent"]),onDragleave:ge(v,["prevent"])},[z(u.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var Go=le(Do,[["__file","upload-dragger.vue"]]);const Ho=se({...es,beforeUpload:{type:V(Function),default:te},onRemove:{type:V(Function),default:te},onStart:{type:V(Function),default:te},onSuccess:{type:V(Function),default:te},onProgress:{type:V(Function),default:te},onError:{type:V(Function),default:te},onExceed:{type:V(Function),default:te}}),jo=D({name:"ElUploadContent",inheritAttrs:!1}),Ko=D({...jo,props:Ho,setup(e,{expose:o}){const a=e,s=ee("upload"),l=xe(),r=ye({}),i=ye(),m=n=>{if(n.length===0)return;const{autoUpload:y,limit:d,fileList:_,multiple:w,onStart:L,onExceed:T}=a;if(d&&_.length+n.length>d){T(n,_);return}w||(n=n.slice(0,1));for(const C of n){const R=C;R.uid=Qe(),L(R),y&&v(R)}},v=async n=>{if(i.value.value="",!a.beforeUpload)return g(n);let y,d={};try{const w=a.data,L=a.beforeUpload(n);d=mt(a.data)?vt(a.data):a.data,y=await L,mt(a.data)&&vs(w,d)&&(d=vt(a.data))}catch{y=!1}if(y===!1){a.onRemove(n);return}let _=n;y instanceof Blob&&(y instanceof File?_=y:_=new File([y],n.name,{type:n.type})),g(Object.assign(_,{uid:n.uid}),d)},u=async(n,y)=>xt(n)?n(y):n,g=async(n,y)=>{const{headers:d,data:_,method:w,withCredentials:L,name:T,action:C,onProgress:R,onSuccess:H,onError:Y,httpRequest:X}=a;try{y=await u(y??_,n)}catch{a.onRemove(n);return}const{uid:ne}=n,pe={headers:d||{},withCredentials:L,file:n,data:y,method:w,filename:T,action:C,onProgress:M=>{R(M,n)},onSuccess:M=>{H(M,n),delete r.value[ne]},onError:M=>{Y(M,n),delete r.value[ne]}},A=X(pe);r.value[ne]=A,A instanceof Promise&&A.then(pe.onSuccess,pe.onError)},k=n=>{const y=n.target.files;y&&m(Array.from(y))},b=()=>{l.value||(i.value.value="",i.value.click())},c=()=>{b()};return o({abort:n=>{Js(r.value).filter(n?([d])=>String(n.uid)===d:()=>!0).forEach(([d,_])=>{_ instanceof XMLHttpRequest&&_.abort(),delete r.value[d]})},upload:v}),(n,y)=>(h(),S("div",{class:I([t(s).b(),t(s).m(n.listType),t(s).is("drag",n.drag),t(s).is("disabled",t(l))]),tabindex:t(l)?"-1":"0",onClick:b,onKeydown:jt(ge(c,["self"]),["enter","space"])},[n.drag?(h(),W(Go,{key:0,disabled:t(l),onFile:m},{default:E(()=>[z(n.$slots,"default")]),_:3},8,["disabled"])):z(n.$slots,"default",{key:1}),$("input",{ref_key:"inputRef",ref:i,class:I(t(s).e("input")),name:n.name,disabled:t(l),multiple:n.multiple,accept:n.accept,type:"file",onChange:k,onClick:ge(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var bt=le(Ko,[["__file","upload-content.vue"]]);const _t="ElUpload",wt=e=>{var o;(o=e.url)!=null&&o.startsWith("blob:")&&URL.revokeObjectURL(e.url)},qo=(e,o)=>{const a=Qs(e,"fileList",void 0,{passive:!0}),s=c=>a.value.find(p=>p.uid===c.uid);function l(c){var p;(p=o.value)==null||p.abort(c)}function r(c=["ready","uploading","success","fail"]){a.value=a.value.filter(p=>!c.includes(p.status))}function i(c){a.value=a.value.filter(p=>p.uid!==c.uid)}const m=(c,p)=>{const n=s(p);n&&(console.error(c),n.status="fail",i(n),e.onError(c,n,a.value),e.onChange(n,a.value))},v=(c,p)=>{const n=s(p);n&&(e.onProgress(c,n,a.value),n.status="uploading",n.percentage=Math.round(c.percent))},u=(c,p)=>{const n=s(p);n&&(n.status="success",n.response=c,e.onSuccess(c,n,a.value),e.onChange(n,a.value))},g=c=>{Tt(c.uid)&&(c.uid=Qe());const p={name:c.name,percentage:0,status:"ready",size:c.size,raw:c,uid:c.uid};if(e.listType==="picture-card"||e.listType==="picture")try{p.url=URL.createObjectURL(c)}catch(n){ns(_t,n.message),e.onError(n,p,a.value)}a.value=[...a.value,p],e.onChange(p,a.value)},k=async c=>{const p=c instanceof File?s(c):c;p||$e(_t,"file to be removed not found");const n=y=>{l(y),i(y),e.onRemove(y,a.value),wt(y)};e.beforeRemove?await e.beforeRemove(p,a.value)!==!1&&n(p):n(p)};function b(){a.value.filter(({status:c})=>c==="ready").forEach(({raw:c})=>{var p;return c&&((p=o.value)==null?void 0:p.upload(c))})}return ue(()=>e.listType,c=>{c!=="picture-card"&&c!=="picture"||(a.value=a.value.map(p=>{const{raw:n,url:y}=p;if(!y&&n)try{p.url=URL.createObjectURL(n)}catch(d){e.onError(d,p,a.value)}return p}))}),ue(a,c=>{for(const p of c)p.uid||(p.uid=Qe()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:a,abort:l,clearFiles:r,handleError:m,handleProgress:v,handleStart:g,handleSuccess:u,handleRemove:k,submit:b,revokeFileObjectURL:wt}},Wo=D({name:"ElUpload"}),Xo=D({...Wo,props:Uo,setup(e,{expose:o}){const a=e,s=xe(),l=ye(),{abort:r,submit:i,clearFiles:m,uploadFiles:v,handleStart:u,handleError:g,handleRemove:k,handleSuccess:b,handleProgress:c,revokeFileObjectURL:p}=qo(a,l),n=N(()=>a.listType==="picture-card"),y=N(()=>({...a,fileList:v.value,onStart:u,onProgress:c,onSuccess:b,onError:g,onRemove:k}));return at(()=>{v.value.forEach(p)}),Ht(Jt,{accept:Be(a,"accept")}),o({abort:r,submit:i,clearFiles:m,handleStart:u,handleRemove:k}),(d,_)=>(h(),S("div",null,[t(n)&&d.showFileList?(h(),W(ht,{key:0,disabled:t(s),"list-type":d.listType,files:t(v),crossorigin:d.crossorigin,"handle-preview":d.onPreview,onRemove:t(k)},Ze({append:E(()=>[f(bt,ze({ref_key:"uploadRef",ref:l},t(y)),{default:E(()=>[d.$slots.trigger?z(d.$slots,"trigger",{key:0}):O("v-if",!0),!d.$slots.trigger&&d.$slots.default?z(d.$slots,"default",{key:1}):O("v-if",!0)]),_:3},16)]),_:2},[d.$slots.file?{name:"default",fn:E(({file:w,index:L})=>[z(d.$slots,"file",{file:w,index:L})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):O("v-if",!0),!t(n)||t(n)&&!d.showFileList?(h(),W(bt,ze({key:1,ref_key:"uploadRef",ref:l},t(y)),{default:E(()=>[d.$slots.trigger?z(d.$slots,"trigger",{key:0}):O("v-if",!0),!d.$slots.trigger&&d.$slots.default?z(d.$slots,"default",{key:1}):O("v-if",!0)]),_:3},16)):O("v-if",!0),d.$slots.trigger?z(d.$slots,"default",{key:2}):O("v-if",!0),z(d.$slots,"tip"),!t(n)&&d.showFileList?(h(),W(ht,{key:3,disabled:t(s),"list-type":d.listType,files:t(v),crossorigin:d.crossorigin,"handle-preview":d.onPreview,onRemove:t(k)},Ze({_:2},[d.$slots.file?{name:"default",fn:E(({file:w,index:L})=>[z(d.$slots,"file",{file:w,index:L})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):O("v-if",!0)]))}});var Yo=le(Xo,[["__file","upload.vue"]]);const Zo=he(Yo);class Jo{getMimeType(o){const a=o.name.split(".").pop().toLowerCase();return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp",bmp:"image/bmp"}[a]||"image/jpeg"}async compressImage(o,a=1024,s=.8){return new Promise(l=>{const r=document.createElement("canvas"),i=r.getContext("2d"),m=new Image;m.onload=()=>{let{width:v,height:u}=m;const g=1024;v>u&&v>g?(u=u*g/v,v=g):u>g&&(v=v*g/u,u=g),r.width=v,r.height=u,i.drawImage(m,0,0,v,u),r.toBlob(l,"image/jpeg",s)},m.src=URL.createObjectURL(o)})}fileToBase64(o){return new Promise((a,s)=>{const l=new FileReader;l.onload=()=>a(l.result),l.onerror=s,l.readAsDataURL(o)})}base64ToBlob(o,a="image/png"){const s=atob(o),l=new Array(s.length);for(let i=0;i<s.length;i++)l[i]=s.charCodeAt(i);const r=new Uint8Array(l);return new Blob([r],{type:a})}}const Qo=new Jo;function el(){const e=s=>{if(!s.type.startsWith("image/"))throw new Error(`请上传有效的图片文件："${s.name}"！`);if(s.size>10485760)throw new Error(`图片"${s.name}"文件大小不能超过10MB！`);return!0},o=async s=>{const l=[];for(const r of s)try{e(r);const i=await a(r);l.push(i)}catch(i){throw i}return l},a=s=>new Promise((l,r)=>{const i=new FileReader;i.onload=m=>{try{const v=m.target.result.split(",")[1],u=Qo.getMimeType(s),g={id:Date.now()+Math.random(),name:s.name,base64:v,mimeType:u,dataUrl:m.target.result,size:s.size};l(g)}catch{r(new Error(`图片"${s.name}"处理失败`))}},i.onerror=()=>{r(new Error(`图片"${s.name}"读取失败，请重试！`))},i.readAsDataURL(s)});return{validateFile:e,processImages:o,processImage:a}}const tl={class:"image-upload"},sl={class:"upload-content"},al={class:"upload-text"},ol={key:0,class:"uploaded-images"},ll=["title"],nl={__name:"ImageUpload",props:{modelValue:{type:Array,default:()=>[]},maxCount:{type:Number,default:5}},emits:["update:modelValue","error"],setup(e,{emit:o}){const a=e,s=o,{processImages:l,validateFile:r}=el(),i=U(),m=U([]),v=async(b,c)=>{const p=c.slice(a.modelValue.length).map(n=>n.raw);if(a.modelValue.length+p.length>a.maxCount){s("error",`最多只能上传${a.maxCount}张图片`),i.value?.clearFiles();return}try{const n=await l(p);s("update:modelValue",[...a.modelValue,...n]),i.value?.clearFiles()}catch(n){s("error",n.message),i.value?.clearFiles()}},u=b=>{try{return r(b)}catch(c){return s("error",c.message),!1}},g=b=>{const c=[...a.modelValue];c.splice(b,1),s("update:modelValue",c)},k=async b=>{const c=b.clipboardData?.items;if(!c)return;const p=[];for(let n of c)if(n.type.startsWith("image/")){const y=n.getAsFile();y&&p.push(y)}if(p.length>0){if(b.preventDefault(),a.modelValue.length+p.length>a.maxCount){s("error",`最多只能上传${a.maxCount}张图片`);return}try{const n=await l(p);s("update:modelValue",[...a.modelValue,...n])}catch(n){s("error",n.message)}}};return ke(()=>{document.addEventListener("paste",k)}),ea(()=>{document.removeEventListener("paste",k)}),(b,c)=>{const p=j,n=Zo,y=lt,d=De;return h(),S("div",tl,[f(n,{ref_key:"uploadRef",ref:i,"file-list":m.value,"auto-upload":!1,"show-file-list":!1,multiple:"",accept:"image/*","on-change":v,"before-upload":u,drag:"",class:"upload-dragger"},{default:E(()=>[$("div",sl,[f(p,{class:"upload-icon"},{default:E(()=>[f(t(Dt))]),_:1}),$("div",al,[c[0]||(c[0]=$("p",null,"点击选择图片或拖拽到此处",-1)),$("small",null,"支持多选、粘贴，最多"+K(e.maxCount)+"张",1)])])]),_:1},8,["file-list"]),e.modelValue.length>0?(h(),S("div",ol,[(h(!0),S(ve,null,Le(e.modelValue,(_,w)=>(h(),S("div",{key:_.id,class:"uploaded-image"},[f(y,{src:_.dataUrl,alt:_.name,fit:"cover",class:"image-preview","preview-src-list":[_.dataUrl],"initial-index":0,"preview-teleported":""},null,8,["src","alt","preview-src-list"]),f(d,{class:"remove-btn",circle:"",size:"small",type:"danger",onClick:L=>g(w)},{default:E(()=>[f(p,null,{default:E(()=>[f(t(Ue))]),_:1})]),_:2},1032,["onClick"]),$("div",{class:"image-name",title:_.name},K(_.name),9,ll)]))),128))])):O("",!0)])}}},rl=Ie(nl,[["__scopeId","data-v-13163aa4"]]),il={},cl={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"};function ul(e,o){return h(),S("svg",cl,[...o[0]||(o[0]=[$("path",{d:"M5 15V17C5 18.0544 5.81588 18.9182 6.85074 18.9945L7 19H10V21H7C4.79086 21 3 19.2091 3 17V15H5ZM18 10L22.4 21H20.245L19.044 18H14.954L13.755 21H11.601L16 10H18ZM17 12.8852L15.753 16H18.245L17 12.8852ZM8 2V4H12V11H8V14H6V11H2V4H6V2H8ZM17 3C19.2091 3 21 4.79086 21 7V9H19V7C19 5.89543 18.1046 5 17 5H14V3H17ZM6 6H4V9H6V6ZM10 6H8V9H10V6Z"},null,-1)])])}const dl=Ie(il,[["render",ul]]),nt=qt("generator",()=>{const e=U(!1),o=U([]),a=U({imageUrl:"",prompt:"",model:"",elapsedTime:"",timestamp:null,modelResponse:"",image_id:""}),s=U({totalGenerations:0,successCount:0,failureCount:0,totalTime:0}),l=N(()=>!!a.value.imageUrl),r=N(()=>s.value.totalGenerations===0?0:(s.value.successCount/s.value.totalGenerations*100).toFixed(1)),i=N(()=>s.value.successCount===0?0:(s.value.totalTime/s.value.successCount).toFixed(1)),m=N(()=>T=>!e.value&&T&&T.trim().length>0);let v=0;const u=T=>{e.value=!0,p(),v=Date.now(),a.value.prompt=T.prompt,a.value.model=T.model,s.value.totalGenerations++},g=()=>v?((Date.now()-v)/1e3).toFixed(1):"0",k=T=>{a.value={...a.value,imageUrl:T.imageUrl,modelResponse:T.modelResponse||"",elapsedTime:T.elapsedTime||g(),timestamp:new Date().toISOString()},console.log("临时图片已设置，使用base64显示")},b=T=>{const C=g();a.value={...a.value,imageUrl:T.image_url,image_id:T.image_id,elapsedTime:T.elapsed_time||C,timestamp:T.created_at||new Date().toISOString(),modelResponse:T.model_response||""},s.value.successCount++,s.value.totalTime+=parseFloat(C),e.value=!1,console.log("图片生成并保存成功，使用OSS URL:",T.image_url)},c=T=>{e.value=!1,s.value.failureCount++,console.error("Generation failed:",T)},p=()=>{a.value={imageUrl:"",prompt:"",model:"",elapsedTime:"",timestamp:null,modelResponse:"",image_id:""}};return{loading:e,currentResult:a,uploadedImages:o,stats:s,hasResult:l,successRate:r,averageTime:i,canGenerate:m,startGeneration:u,getElapsedTime:g,setTemporaryResult:k,setGenerationResult:b,setGenerationError:c,clearCurrentResult:p,setCurrentResultFromGallery:T=>{a.value={imageUrl:T.image_url||T.imageUrl,prompt:T.prompt,model:T.model||"",elapsedTime:T.elapsed_time||T.elapsedTime||"",timestamp:T.created_at||T.timestamp,modelResponse:T.modelResponse||T.model_response||"",image_id:T.image_id||T.id}},setUploadedImages:T=>{o.value=T},addUploadedImage:T=>{o.value.push(T)},removeUploadedImage:T=>{T>=0&&T<o.value.length&&o.value.splice(T,1)},clearUploadedImages:()=>{o.value=[]},resetStats:()=>{s.value={totalGenerations:0,successCount:0,failureCount:0,totalTime:0}}}},{persist:{key:"ai-image-generator-current",storage:localStorage,paths:["currentResult","stats"]}}),pl=async e=>{const a=Oe().apiConfig;if(!a.baseUrl||!a.apiKey)throw new Error("请先配置API设置");if(!e?.trim())throw new Error("请输入要翻译的内容");const s=a.translationModel||"gpt-4.1";try{const l=`${a.baseUrl.replace(/\/$/,"")}/v1/chat/completions`,r={model:s,messages:[{role:"system",content:"你是一个英文绘图提示词翻译助手，擅长将用户的文字翻译为精准的英文，以便于绘制描述精准的图像"},{role:"user",content:e.trim()}]},i=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.apiKey}`},body:JSON.stringify(r)});if(!i.ok){const u=await i.json().catch(()=>({}));throw new Error(u.error?.message||`HTTP错误: ${i.status}`)}const m=await i.json();if(!m.choices||!m.choices[0]||!m.choices[0].message)throw new Error("翻译API返回格式错误");const v=m.choices[0].message.content;if(!v?.trim())throw new Error("翻译结果为空");return{success:!0,data:{original:e,translated:v.trim(),model:s}}}catch(l){throw console.error("Translation error:",l),l.name==="TypeError"&&l.message.includes("fetch")?new Error("网络连接失败，请检查API地址和网络连接"):l.message.includes("401")||l.message.includes("Unauthorized")?new Error("API Key无效，请检查设置"):l.message.includes("429")?new Error("请求过于频繁，请稍后再试"):l.message.includes("insufficient_quota")?new Error("API配额不足，请检查账户余额"):l}},fl=()=>{const o=Oe().apiConfig;return!!(o.baseUrl&&o.apiKey&&o.translationModel)},ml={class:"control-panel"},vl={class:"prompt-header"},gl={key:0,class:"translate-tip"},yl={class:"section-title"},hl={class:"upload-count"},bl={key:0},_l={key:1},wl={key:0,class:"time-info"},kl={__name:"ControlPanel",props:{loading:{type:Boolean,default:!1},elapsedTime:{type:String,default:""}},emits:["generate","open-settings"],setup(e,{emit:o}){const{isMobile:a}=It(),s=Oe(),l=nt(),r=o,i=U(s.currentModel),m=U(""),v=U(""),u=U(!1),g=N({get:()=>l.uploadedImages,set:d=>l.setUploadedImages(d)}),k=N(()=>l.canGenerate(v.value)&&s.isApiConfigured),b=N(()=>fl()),c=()=>{i.value!=="custom"&&(m.value="");const d=i.value==="custom"?m.value:i.value;s.updateApiConfig({model:d})},p=()=>{if(!k.value){if(!s.isApiConfigured){q.warning("请先配置API设置"),r("open-settings");return}q.warning("请填写提示词");return}const d=i.value==="custom"?m.value:i.value;if(i.value==="custom"&&!m.value.trim()){q.warning("请输入自定义模型名称");return}r("generate",{model:d,prompt:v.value,images:g.value})},n=d=>{q.error(d)},y=async()=>{if(!v.value.trim()){q.warning("请先输入提示词");return}if(!b.value){q.warning("请先配置API设置"),r("open-settings");return}u.value=!0;try{const d=await pl(v.value);d.success?(v.value=d.data.translated,q.success("翻译完成！")):q.error("翻译失败")}catch(d){console.error("Translation error:",d),q.error(d.message||"翻译失败，请重试")}finally{u.value=!1}};return ke(()=>{const d=s.currentModel;["gemini-2.5-flash-image-preview","gemini-2.5-flash-image-preview-bs"].includes(d)?i.value=d:(i.value="custom",m.value=d)}),(d,_)=>{const w=ys,L=gs,T=rs,C=ot,R=j,H=De,Y=Ia;return h(),S("div",ml,[f(C,{class:"section-card",shadow:"never"},{header:E(()=>[..._[5]||(_[5]=[$("span",{class:"section-title"},"模型选择",-1)])]),default:E(()=>[f(L,{modelValue:i.value,"onUpdate:modelValue":_[0]||(_[0]=X=>i.value=X),placeholder:"选择模型",class:"w-full",onChange:c},{default:E(()=>[f(w,{label:"gemini-2.5-flash-image-preview (默认)",value:"gemini-2.5-flash-image-preview"}),f(w,{label:"gemini-2.5-flash-image-preview-bs",value:"gemini-2.5-flash-image-preview-bs"}),f(w,{label:"自定义模型",value:"custom"})]),_:1},8,["modelValue"]),i.value==="custom"?(h(),W(T,{key:0,modelValue:m.value,"onUpdate:modelValue":_[1]||(_[1]=X=>m.value=X),placeholder:"请输入自定义模型名称",class:"mt-2"},null,8,["modelValue"])):O("",!0)]),_:1}),f(C,{class:"section-card",shadow:"never"},{header:E(()=>[$("div",vl,[_[6]||(_[6]=$("span",{class:"section-title"},"提示词",-1)),f(H,{type:"primary",size:"small",plain:"",loading:u.value,disabled:!v.value.trim()||!b.value,onClick:y,class:"translate-btn"},{default:E(()=>[f(R,null,{default:E(()=>[f(dl)]),_:1}),de(" "+K(u.value?" 翻译中...":" 英文翻译"),1)]),_:1},8,["loading","disabled"])])]),default:E(()=>[f(T,{modelValue:v.value,"onUpdate:modelValue":_[2]||(_[2]=X=>v.value=X),type:"textarea",rows:3,placeholder:"描述您想要生成的图片内容，推荐使用英文，生图成功率更高...",maxlength:"8000","show-word-limit":"",resize:"vertical"},null,8,["modelValue"]),_[7]||(_[7]=$("div",{class:"prompt-tip"},'默认会添加"请帮我画图"',-1)),b.value?O("",!0):(h(),S("div",gl,"翻译功能需要先配置API设置"))]),_:1}),f(C,{class:"section-card",shadow:"never"},{header:E(()=>[$("span",yl,[_[8]||(_[8]=de(" 上传图片（选填） ",-1)),$("span",hl,"("+K(g.value.length)+"/5)",1)])]),default:E(()=>[f(rl,{modelValue:g.value,"onUpdate:modelValue":_[3]||(_[3]=X=>g.value=X),"max-count":5,onError:n},null,8,["modelValue"])]),_:1}),f(C,{class:"section-card",shadow:"never"},{default:E(()=>[f(H,{type:"primary",size:"large",class:"generate-btn",loading:e.loading,onClick:p,disabled:!k.value},{default:E(()=>[e.loading?(h(),S("span",_l,"生成中...")):(h(),S("span",bl,"提交生成"))]),_:1},8,["loading","disabled"]),f(Y,{class:"mt-3",type:"warning",closable:!1,"show-icon":""},{title:E(()=>[..._[9]||(_[9]=[de(" 注意，因为Google官方审核问题，您的绘图有概率会不返回图片结果，但是依旧会记录本次产生的费用。遇到此类问题，尝试重新生图即可。 ",-1)])]),_:1}),e.elapsedTime?(h(),S("div",wl,"⏱️ 用时: "+K(e.elapsedTime)+"s",1)):O("",!0)]),_:1}),t(a)?(h(),W(H,{key:0,class:"settings-btn-mobile",type:"primary",onClick:_[4]||(_[4]=X=>d.$emit("open-settings"))},{default:E(()=>[f(R,null,{default:E(()=>[f(t(ta))]),_:1}),_[10]||(_[10]=$("span",null,"API设置",-1))]),_:1})):O("",!0)])}}},kt=Ie(kl,[["__scopeId","data-v-ce7eea13"]]);function $l(e){return je({url:"/images/add",method:"post",data:e})}function Cl(e={}){return je({url:"/images/list",method:"get",params:e})}function Sl(e){return je({url:`/images/${e}`,method:"delete"})}function El(e){return je({url:"/images/url-to-base64",method:"post",data:{image_url:e}})}const Tl={class:"result-panel"},Il={class:"header-content"},Rl={class:"action-buttons"},Pl={class:"result-container"},Nl={key:0,class:"loading-state"},Ll={key:1},Ol={key:0,class:"preview-state"},Ul={class:"preview-container"},Bl={key:1,class:"result-content"},Al={class:"image-slot"},Fl={key:0,class:"model-response"},Vl={__name:"ResultPanel",props:{loading:{type:Boolean,default:!1},resultImage:{type:String,default:""},modelResponse:{type:String,default:""},elapsedTime:{type:String,default:""}},setup(e){const o=e,a=nt(),s=()=>{if(!o.resultImage){q.error("没有可下载的图片！");return}try{const r=document.createElement("a");r.href=o.resultImage,r.download=`ai-generated-image-${Date.now()}.png`,document.body.appendChild(r),r.click(),document.body.removeChild(r),q.success("图片下载成功！")}catch(r){console.error("Download error:",r),q.error("图片下载失败！")}},l=async()=>{if(!o.resultImage){q.error("没有可编辑的图片！");return}let r=null;try{const i=a.uploadedImages;if(i.length>=5){q.error("上传图片数量已达上限（5张），请先删除一些图片");return}r=q({message:"正在处理图片...",type:"info",duration:0,showClose:!1}),console.log("开始处理图片URL:",o.resultImage);const m=await El(o.resultImage);if(console.log("后端API响应:",m),r&&(r.close(),r=null),m&&m.code===200&&m.data){const v=`ai-generated-${Date.now()}.png`,u={id:Date.now()+Math.random(),name:v,base64:m.data.base64,mimeType:m.data.mimeType||"image/png",dataUrl:m.data.dataUrl,size:m.data.size||0};console.log("准备添加图片到上传区域:",u),console.log("当前上传的图片数量:",i.length);const g=[...i,u];a.setUploadedImages(g),console.log("图片已添加，新的图片列表长度:",g.length),q.success("图片已添加到上传区域，可以继续修改！")}else{const v=m?.message||"图片转换失败，请重试";console.error("API调用失败:",v,m),q.error(v)}}catch(i){console.error("Edit image error:",i),r&&r.close(),q.error("图片处理失败，请重试: "+i.message)}};return(r,i)=>{const m=j,v=De,u=lt,g=ot;return h(),S("div",Tl,[f(g,{class:"result-card",shadow:"never"},{header:E(()=>[$("div",Il,[i[2]||(i[2]=$("span",{class:"section-title"},"生成结果",-1)),$("div",Rl,[f(v,{type:"success",size:"small",onClick:l,class:"edit-btn",disabled:!e.resultImage},{default:E(()=>[f(m,null,{default:E(()=>[f(t(oa))]),_:1}),i[0]||(i[0]=de(" 修改此图 ",-1))]),_:1},8,["disabled"]),f(v,{type:"primary",size:"small",onClick:s,class:"download-btn"},{default:E(()=>[f(m,null,{default:E(()=>[f(t(la))]),_:1}),i[1]||(i[1]=de(" 下载图片 ",-1))]),_:1})])])]),default:E(()=>[$("div",Pl,[e.loading?(h(),S("div",Nl,[f(m,{class:"loading-icon"},{default:E(()=>[f(t(sa))]),_:1}),i[3]||(i[3]=$("p",null,"正在生成图片，请稍候...",-1))])):(h(),S("div",Ll,[e.resultImage?(h(),S("div",Bl,[f(u,{src:e.resultImage,alt:"生成的图片",fit:"contain",class:"result-image","preview-src-list":[e.resultImage],"initial-index":0,"preview-teleported":""},{error:E(()=>[$("div",Al,[f(m,null,{default:E(()=>[f(t(aa))]),_:1})])]),_:1},8,["src","preview-src-list"])])):(h(),S("div",Ol,[$("div",Ul,[f(u,{src:"src/assets/images/nano-banana-1.webp",alt:"预览图片",fit:"cover",class:"preview-image"}),i[4]||(i[4]=$("div",{class:"preview-overlay"},[$("div",{class:"preview-content"},[$("div",{class:"preview-text"},"预览示例"),$("div",{class:"preview-subtitle"},"生成结果将显示在这里")])],-1))])]))]))]),e.modelResponse?(h(),S("div",Fl,[i[5]||(i[5]=$("h4",null,"模型回复:",-1)),$("p",null,K(e.modelResponse),1)])):O("",!0)]),_:1})])}}},$t=Ie(Vl,[["__scopeId","data-v-ab6aae15"]]),rt=qt("gallery",()=>{const e=U([]),o=U(null),a=U(!1),s=U(!0),l=U(20),r=N(()=>e.value.length),i=N(()=>e.value.length>=l.value),m=N(()=>!s.value),v=N(()=>e.value.length===0?null:e.value[0]),u=N(()=>e.value.map(C=>({id:C.image_id,image_id:C.image_id,imageUrl:C.image_url,image_url:C.image_url,prompt:C.prompt,promptPreview:C.prompt.length>25?C.prompt.substring(0,25)+"...":C.prompt,model:C.model,elapsedTime:C.elapsed_time,timestamp:C.created_at,sortTimestamp:C.sortTimestamp||new Date(C.created_at).getTime(),modelResponse:C.model_response||""}))),g=async(C=!0)=>{a.value=!0;try{const R=await Cl({simple:C});if(R.code===200)return e.value=R.data.images||[],console.log("图片列表加载成功:",e.value.length,"张图片"),{success:!0,data:R.data};throw new Error(R.message||"获取图片列表失败")}catch(R){return console.error("加载图片列表失败:",R),{success:!1,message:R.message}}finally{a.value=!1}},k=async C=>{try{console.log("开始保存图片到服务器...");const R=await $l(C);if(console.log("服务器响应:",R),R.code===200){const H=R.data.image;return e.value.unshift(H),e.value.length>l.value&&e.value.pop(),console.log("图片保存成功:",H.image_id),{success:!0,data:R.data,message:R.message}}else throw console.error("保存失败，服务器返回:",R),new Error(R.message||"保存图片失败")}catch(R){return console.error("保存图片失败:",R),R.response?(console.error("服务器错误响应:",R.response.data),{success:!1,message:`服务器错误: ${R.response.data.message||R.message}`}):R.request?(console.error("网络请求失败:",R.request),{success:!1,message:"网络连接失败，请检查网络"}):{success:!1,message:R.message||"保存图片失败"}}},b=async C=>{try{const R=await Sl(C);if(R.code===200){const H=e.value.findIndex(Y=>Y.image_id===C);return H>-1&&(e.value.splice(H,1),console.log("图片删除成功:",C)),o.value&&o.value.image_id===C&&(o.value=null),{success:!0,message:R.message}}else throw new Error(R.message||"删除图片失败")}catch(R){return console.error("删除图片失败:",R),{success:!1,message:R.message}}},c=C=>{const R=typeof C=="object"?C.image_id||C.id:C,H=e.value.find(Y=>Y.image_id===R);return H?(o.value=H,console.log("选中图片:",R),H):null},p=()=>{o.value=null},n=()=>{e.value=[],o.value=null,console.log("图库已清空")},y=()=>{s.value=!s.value};return{images:e,selectedImage:o,loading:a,isExpanded:s,maxCount:l,imageCount:r,isFull:i,isCollapsed:m,latestImage:v,displayImages:u,loadImages:g,saveImage:k,removeImage:b,selectImage:c,clearSelection:p,clearAll:n,toggleExpanded:y,toggleCollapse:()=>{y()},setExpanded:C=>{s.value=C},setCollapsed:C=>{s.value=!C},refreshImages:async()=>await g(!0),initialize:async()=>{console.log("初始化图库Store..."),await g(!0)}}},{persist:{key:"ai-image-generator-gallery",storage:localStorage,pick:["isExpanded"]}}),zl={class:"gallery-header"},Ml={class:"header-content"},xl={key:0,class:"section-title"},Dl={key:1,class:"gallery-count"},Gl={class:"gallery-content"},Hl={key:0,class:"gallery-empty"},jl={key:1,class:"gallery-collapsed"},Kl=["onClick","title"],ql={key:0,class:"more-indicator"},Wl=["onClick"],Xl={class:"item-image"},Yl={class:"item-content"},Zl=["title"],Jl={class:"item-meta"},Ql={class:"item-model"},en={class:"item-time"},tn={class:"item-elapsed"},sn={key:3,class:"gallery-actions"},an={__name:"GalleryPanel",emits:["select-image"],setup(e,{emit:o}){const a=o,s=rt(),l=U(null),r=N(()=>s.displayImages),i=N(()=>s.imageCount),m=N(()=>s.maxCount),v=N(()=>s.selectedImage),u=N(()=>s.isCollapsed),g=()=>{s.toggleCollapse()},k=n=>{s.selectImage(n.id),a("select-image",n)},b=async n=>{try{await hs.confirm("确定要删除这张图片吗？","确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const y=await s.removeImage(n);y.success?q.success("图片已删除"):q.error(y.message||"删除失败")}catch{}},c=()=>{l.value&&l.value.scrollTo({top:l.value.scrollHeight,behavior:"smooth"})},p=n=>{if(!n)return"";try{return new Date(n).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return n.includes(" "),n}};return(n,y)=>{const d=j,_=De,w=Xa,L=lt,T=ot;return h(),S("div",{class:I(["gallery-panel",{collapsed:u.value}])},[f(T,{class:"gallery-card",shadow:"never"},{header:E(()=>[$("div",zl,[$("div",Ml,[u.value?O("",!0):(h(),S("span",xl,"历史图库")),u.value?O("",!0):(h(),S("span",Dl,"("+K(i.value)+"/"+K(m.value)+")",1))]),f(_,{class:"collapse-btn",circle:"",size:"small",onClick:g,title:u.value?"展开图库":"折叠图库"},{default:E(()=>[f(d,{size:"20"},{default:E(()=>[u.value?(h(),W(t(na),{key:0})):(h(),W(t(ra),{key:1}))]),_:1})]),_:1},8,["title"])])]),default:E(()=>[$("div",Gl,[i.value===0?(h(),S("div",Hl,[f(w,{description:u.value?"":"暂无历史记录","image-size":u.value?40:80},null,8,["description","image-size"])])):u.value?(h(),S("div",jl,[(h(!0),S(ve,null,Le(r.value,C=>(h(),S("div",{key:C.id,class:I(["collapsed-item",{selected:v.value?.id===C.id}]),onClick:R=>k(C),title:C.promptPreview},[f(L,{src:C.imageUrl,alt:"Generated Image",fit:"cover",class:"collapsed-image",loading:"lazy"},null,8,["src"])],10,Kl))),128)),i.value>6?(h(),S("div",ql,[$("span",null,"+"+K(i.value-6),1)])):O("",!0)])):(h(),S("div",{key:2,class:"gallery-expanded",ref_key:"galleryContainer",ref:l},[(h(!0),S(ve,null,Le(r.value,C=>(h(),S("div",{key:C.id,class:I(["expanded-item",{selected:v.value?.id===C.id}]),onClick:R=>k(C)},[$("div",Xl,[f(L,{src:C.imageUrl,alt:"Generated Image",fit:"cover",class:"expanded-image",loading:"lazy","preview-src-list":[C.imageUrl],"initial-index":0,"preview-teleported":""},null,8,["src","preview-src-list"])]),$("div",Yl,[$("div",{class:"item-title",title:C.prompt},K(C.promptPreview),9,Zl),$("div",Jl,[$("span",Ql,K(C.model),1),$("span",en,K(p(C.timestamp)),1),$("span",tn,K(C.elapsedTime)+"s",1)])]),f(_,{class:"delete-btn",circle:"",size:"medium",type:"danger",onClick:ge(R=>b(C.id),["stop"])},{default:E(()=>[f(d,null,{default:E(()=>[f(t(Kt))]),_:1})]),_:2},1032,["onClick"])],10,Wl))),128))],512)),i.value>0&&!u.value?(h(),S("div",sn,[f(_,{type:"primary",size:"small",plain:"",onClick:c,disabled:i.value===0},{default:E(()=>[...y[0]||(y[0]=[de(" 滚动到底部 ",-1)])]),_:1},8,["disabled"])])):O("",!0)])]),_:1})],2)}}},Ct=Ie(an,[["__scopeId","data-v-89de67a6"]]);class on{async generateImage({model:o,prompt:a,images:s}){const l=Oe(),{baseUrl:r,apiKey:i}=l.apiConfig;if(!r||!i)throw new Error("请先配置API设置");const m=`${r}/v1beta/models/${o}:generateContent`,v={contents:[{parts:[{text:"请帮我画图："+a}]}],generationConfig:{responseModalities:["TEXT","IMAGE"]}};s&&s.length>0&&s.forEach(g=>{v.contents[0].parts.push({inline_data:{mime_type:g.mimeType,data:g.base64}})});const u=await fetch(m,{method:"POST",headers:{"x-goog-api-key":i,"Content-Type":"application/json"},body:JSON.stringify(v)});if(!u.ok){const g=await u.text();let k=`API请求失败 (${u.status})`;try{const b=JSON.parse(g);b.error&&b.error.message&&(k=b.error.message)}catch{}throw new Error(k)}return await u.json()}}const ln=new on;function nn(){const e=nt(),o=rt(),a=Oe(),s=N(()=>e.loading),l=N(()=>e.currentResult.imageUrl),r=N(()=>e.currentResult.modelResponse),i=N(()=>e.currentResult.elapsedTime);return{loading:s,resultImage:l,modelResponse:r,elapsedTime:i,generateImage:async u=>{try{if(!a.isApiConfigured)throw new Error("请先配置API设置");console.log("开始生成图片，参数:",u),e.startGeneration({...u,base_url:a.baseUrl,api_key:a.apiKey});const g=await ln.generateImage({model:u.model,prompt:u.prompt,images:u.images});if(console.log("API响应:",g),g.candidates&&g.candidates.length>0){const k=g.candidates[0].content.parts;let b=null,c="";for(const p of k)p.inlineData&&p.inlineData.data&&(b=p.inlineData.data,console.log("找到图片数据，长度:",b.length)),p.text&&(c+=p.text+" ");if(b){const p=`data:image/png;base64,${b}`,n=c.trim();console.log("图片生成成功，开始自动保存..."),e.setTemporaryResult({imageUrl:p,modelResponse:n,elapsedTime:e.getElapsedTime(),prompt:u.prompt,model:u.model}),console.log("临时图片已设置，现在保存到服务器...");const y={image_data:p,prompt:u.prompt,model:u.model,elapsed_time:e.getElapsedTime(),model_response:n,base_url:a.baseUrl,api_key:a.apiKey};console.log("保存数据:",{prompt:y.prompt,model:y.model,elapsed_time:y.elapsed_time,model_response:y.model_response,has_image_data:!!y.image_data,image_data_length:y.image_data?y.image_data.length:0});try{const d=await o.saveImage(y);console.log("saveResult:",d),d&&d.success?d.data&&d.data.image&&(e.setGenerationResult(d.data.image),console.log("保存成功，后端返回数据:",d.data.image),console.log("图片URL:",d.data.image.image_url)):(console.error("保存失败，saveResult:",d),console.warn("图片保存到服务器失败:",d?d.message:"未知错误"))}catch(d){console.error("保存过程异常:",d),console.warn("图片保存到服务器异常，但图片已显示")}}else throw new Error("API返回的数据中未找到图片")}else throw new Error("API返回数据格式错误")}catch(g){throw console.error("生成图片失败:",g),e.setGenerationError(g),g}},selectGalleryImage:u=>{o.selectImage(u.image_id||u.id),e.setCurrentResultFromGallery(u)}}}const rn={class:"ai-image-generator"},cn={key:1,class:"mobile-layout"},un={__name:"index",setup(e){const{isMobile:o}=It(),a=rt(),s=U("generate"),l=U(!1),r=N(()=>a.isCollapsed),{loading:i,resultImage:m,modelResponse:v,elapsedTime:u,generateImage:g,selectGalleryImage:k}=nn();ue(m,(n,y)=>{console.log(`新值: ${n}, 旧值: ${y}`)});const b=async n=>{try{await g(n),o.value&&(s.value="result"),q.success("图片生成成功！")}catch(y){q.error(y.message||"生成失败，请重试")}},c=n=>{k(n),o.value&&(s.value="result")},p=n=>{q.success("设置已保存"),l.value=!1};return ke(async()=>{await a.initialize()}),(n,y)=>{const d=Io,_=To,w=Ba;return h(),S("div",rn,[t(o)?(h(),S("div",cn,[f(_,{modelValue:s.value,"onUpdate:modelValue":y[2]||(y[2]=L=>s.value=L),class:"mobile-tabs"},{default:E(()=>[f(d,{label:"生成",name:"generate"},{default:E(()=>[f(kt,{loading:t(i),"elapsed-time":t(u),onGenerate:b,onOpenSettings:y[1]||(y[1]=L=>l.value=!0)},null,8,["loading","elapsed-time"])]),_:1}),f(d,{label:"结果",name:"result"},{default:E(()=>[f($t,{loading:t(i),"result-image":t(m),"model-response":t(v),"elapsed-time":t(u)},null,8,["loading","result-image","model-response","elapsed-time"])]),_:1}),f(d,{label:"图库",name:"gallery"},{default:E(()=>[f(Ct,{onSelectImage:c})]),_:1})]),_:1},8,["modelValue"])])):(h(),S("div",{key:0,class:I(["desktop-layout",{"gallery-collapsed":r.value}])},[f(kt,{class:"control-panel",loading:t(i),"elapsed-time":t(u),onGenerate:b,onOpenSettings:y[0]||(y[0]=L=>l.value=!0)},null,8,["loading","elapsed-time"]),f($t,{class:"result-panel",loading:t(i),"result-image":t(m),"model-response":t(v),"elapsed-time":t(u)},null,8,["loading","result-image","model-response","elapsed-time"]),f(Ct,{class:"gallery-panel",onSelectImage:c})],2)),f(bs,{modelValue:l.value,"onUpdate:modelValue":y[3]||(y[3]=L=>l.value=L),onSave:p},null,8,["modelValue"]),f(w,{right:20,bottom:20})])}}},gn=Ie(un,[["__scopeId","data-v-0845c41c"]]);export{gn as default};
