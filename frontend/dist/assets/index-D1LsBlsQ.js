import{bG as R,bO as q,a4 as A,x as g,K as _,B as u,E as o,P as e,C as a,H as N,u as f,bP as L,bm as H,bQ as I,Z as O,bK as y,y as B,bR as Q,bS as Z,L as j,N as J,bT as W,G as X,F as z,U as Y,bU as ee,A as F}from"./index-CkVwXh8c.js";import{D as T,E as K,A as D,F as M,B as se}from"./el-form-item-DZp7nGyR.js";import"./format-input-BtFVpa3F.js";const ae={class:"login-form"},te={key:0},oe={key:1},le={__name:"LoginForm",emits:["success"],setup(U,{emit:h}){const V=h,i=q(),s=A({email:"",password:""}),n=g(!1),l=g(),d={email:[{required:!0,message:"è¯·è¾“å…¥é‚®ç®±",trigger:"blur"},{type:"email",message:"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®",trigger:"blur"}],password:[{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"},{min:6,message:"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½",trigger:"blur"}]},b=async()=>{try{await l.value?.validate(),n.value=!0;const v=await i.login({email:s.email,login_type:"password",password:s.password});v.success?V("success",v.message):y.error(v.message)}catch(v){console.error("Login validation failed:",v)}finally{n.value=!1}};return(v,m)=>{const C=N,S=K,k=T,E=D,$=M;return u(),_("div",ae,[m[2]||(m[2]=o("div",{class:"form-header"},[o("h2",null,"æ¬¢è¿å›æ¥"),o("p",null,"ç™»å½•æ‚¨çš„è´¦æˆ·ï¼Œç»§ç»­åˆ›ä½œä¹‹æ—…")],-1)),e($,{ref_key:"formRef",ref:l,model:s,rules:d,onSubmit:O(b,["prevent"])},{default:a(()=>[e(k,{prop:"email"},{default:a(()=>[e(S,{modelValue:s.email,"onUpdate:modelValue":m[0]||(m[0]=r=>s.email=r),type:"email",placeholder:"è¯·è¾“å…¥é‚®ç®±åœ°å€",class:"custom-input",size:"default"},{prefix:a(()=>[e(C,{class:"input-icon"},{default:a(()=>[e(f(L))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(k,{prop:"password"},{default:a(()=>[e(S,{modelValue:s.password,"onUpdate:modelValue":m[1]||(m[1]=r=>s.password=r),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ","show-password":"",class:"custom-input",size:"default",onKeyup:H(b,["enter"])},{prefix:a(()=>[e(C,{class:"input-icon"},{default:a(()=>[e(f(I))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(k,{class:"submit-item"},{default:a(()=>[e(E,{type:"primary",class:"login-btn",loading:n.value,onClick:b},{default:a(()=>[n.value?(u(),_("span",oe,"ç™»å½•ä¸­...")):(u(),_("span",te,"ç«‹å³ç™»å½•"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}},re=R(le,[["__scopeId","data-v-b92230f0"]]),ne={class:"register-form"},ie={class:"code-input-wrapper"},de={key:0},ue={key:1},ce={__name:"RegisterForm",emits:["success"],setup(U,{emit:h}){const V=h,i=q(),s=A({email:"",username:"",password:"",confirmPassword:"",code:""}),n=g(!1),l=g(!1),d=g(0),b=g(),m={email:[{required:!0,message:"è¯·è¾“å…¥é‚®ç®±",trigger:"blur"},{type:"email",message:"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®",trigger:"blur"}],username:[{min:2,message:"ç”¨æˆ·åé•¿åº¦ä¸èƒ½å°‘äº2ä½",trigger:"blur"}],password:[{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"},{min:6,message:"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½",trigger:"blur"}],confirmPassword:[{required:!0,message:"è¯·ç¡®è®¤å¯†ç ",trigger:"blur"},{validator:(r,t,p)=>{t!==s.password?p(new Error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´")):p()},trigger:"blur"}],code:[{required:!0,message:"è¯·è¾“å…¥éªŒè¯ç ",trigger:"blur"},{len:6,message:"éªŒè¯ç ä¸º6ä½æ•°å­—",trigger:"blur"}]},C=B(()=>s.email&&d.value===0&&!l.value),S=B(()=>l.value?"å‘é€ä¸­":d.value>0?`${d.value}s`:"å‘é€éªŒè¯ç "),k=async()=>{if(!s.email){y.warning("è¯·å…ˆè¾“å…¥é‚®ç®±");return}l.value=!0;try{const r=await i.sendVerificationCode(s.email);r.success?(y.success(r.message),E()):y.error(r.message)}finally{l.value=!1}},E=()=>{d.value=60;const r=setInterval(()=>{d.value--,d.value<=0&&clearInterval(r)},1e3)},$=async()=>{try{await b.value?.validate(),n.value=!0;const r={email:s.email,password:s.password,code:s.code};s.username&&(r.username=s.username);const t=await i.register(r);t.success?V("success",t.message):y.error(t.message)}catch(r){console.error("Register validation failed:",r)}finally{n.value=!1}};return(r,t)=>{const p=N,x=K,w=T,P=D,G=M;return u(),_("div",ne,[t[5]||(t[5]=o("div",{class:"form-header"},[o("h2",null,"åˆ›å»ºè´¦æˆ·"),o("p",null,"åŠ å…¥æˆ‘ä»¬ï¼Œå¼€å¯AIåˆ›ä½œä¹‹æ—…")],-1)),e(G,{ref_key:"formRef",ref:b,model:s,rules:m},{default:a(()=>[e(w,{prop:"email"},{default:a(()=>[e(x,{modelValue:s.email,"onUpdate:modelValue":t[0]||(t[0]=c=>s.email=c),type:"email",placeholder:"è¯·è¾“å…¥é‚®ç®±åœ°å€",class:"custom-input",size:"default"},{prefix:a(()=>[e(p,{class:"input-icon"},{default:a(()=>[e(f(L))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(w,{prop:"username"},{default:a(()=>[e(x,{modelValue:s.username,"onUpdate:modelValue":t[1]||(t[1]=c=>s.username=c),placeholder:"è¯·è¾“å…¥ç”¨æˆ·åï¼ˆå¯é€‰ï¼‰",class:"custom-input",size:"default"},{prefix:a(()=>[e(p,{class:"input-icon"},{default:a(()=>[e(f(Q))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(w,{prop:"code"},{default:a(()=>[o("div",ie,[e(x,{modelValue:s.code,"onUpdate:modelValue":t[2]||(t[2]=c=>s.code=c),placeholder:"è¯·è¾“å…¥éªŒè¯ç ",class:"custom-input code-input",size:"default"},{prefix:a(()=>[e(p,{class:"input-icon"},{default:a(()=>[e(f(Z))]),_:1})]),_:1},8,["modelValue"]),e(P,{class:"code-btn",size:"default",loading:l.value,disabled:!C.value,onClick:k},{default:a(()=>[j(J(S.value),1)]),_:1},8,["loading","disabled"])])]),_:1}),e(w,{prop:"password"},{default:a(()=>[e(x,{modelValue:s.password,"onUpdate:modelValue":t[3]||(t[3]=c=>s.password=c),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ","show-password":"",class:"custom-input",size:"default"},{prefix:a(()=>[e(p,{class:"input-icon"},{default:a(()=>[e(f(I))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(w,{prop:"confirmPassword"},{default:a(()=>[e(x,{modelValue:s.confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=c=>s.confirmPassword=c),type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥å¯†ç ","show-password":"",class:"custom-input",size:"default"},{prefix:a(()=>[e(p,{class:"input-icon"},{default:a(()=>[e(f(I))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(w,{class:"submit-item"},{default:a(()=>[e(P,{type:"primary",class:"register-btn",loading:n.value,onClick:$},{default:a(()=>[n.value?(u(),_("span",ue,"æ³¨å†Œä¸­...")):(u(),_("span",de,"ç«‹å³æ³¨å†Œ"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}},me=R(ce,[["__scopeId","data-v-b357d7e0"]]),pe={class:"auth-container"},fe={class:"auth-content"},_e={class:"form-section"},ve={class:"form-container"},ge={key:0,class:"mobile-logo"},be={class:"tab-switcher"},we={class:"form-content"},ye={__name:"index",setup(U){const h=ee(),{isMobile:V}=se(),i=g("login"),s=n=>{y.success(n),h.push("/")};return(n,l)=>(u(),_("div",pe,[o("div",fe,[l[3]||(l[3]=W('<div class="intro-section" data-v-d11cab8d><div class="intro-content" data-v-d11cab8d><div class="logo" data-v-d11cab8d><div class="logo-icon" data-v-d11cab8d>ğŸ¨</div><h1 data-v-d11cab8d>Ezwork Studio</h1><span class="subtitle" data-v-d11cab8d>AIç»˜ç”»å·¥å…·å®¢æˆ·ç«¯</span></div><p class="intro-text" data-v-d11cab8d> é‡Šæ”¾åˆ›æ„æ— é™å¯èƒ½<br data-v-d11cab8d> è®©æ¯ä¸€ä¸ªæƒ³è±¡éƒ½èƒ½æˆä¸ºè‰ºæœ¯ </p><div class="decoration-elements" data-v-d11cab8d><div class="floating-shape shape-1" data-v-d11cab8d></div><div class="floating-shape shape-2" data-v-d11cab8d></div><div class="floating-shape shape-3" data-v-d11cab8d></div></div></div></div>',1)),o("div",_e,[o("div",ve,[f(V)?(u(),_("div",ge,[...l[2]||(l[2]=[o("div",{class:"logo-icon"},"ğŸ¨",-1),o("h1",null,"Ezwork Studio",-1),o("span",{class:"subtitle"},"AIç»˜ç”»å·¥å…·å®¢æˆ·ç«¯",-1)])])):X("",!0),o("div",be,[o("button",{class:z(["tab-btn",{active:i.value==="login"}]),onClick:l[0]||(l[0]=d=>i.value="login")}," ç™»å½• ",2),o("button",{class:z(["tab-btn",{active:i.value==="register"}]),onClick:l[1]||(l[1]=d=>i.value="register")}," æ³¨å†Œ ",2),o("div",{class:z(["tab-indicator",{"move-right":i.value==="register"}])},null,2)]),o("div",we,[e(Y,{name:"slide",mode:"out-in"},{default:a(()=>[i.value==="login"?(u(),F(re,{key:0,onSuccess:s})):(u(),F(me,{key:1,onSuccess:s}))]),_:1})])])])])]))}},xe=R(ye,[["__scopeId","data-v-d11cab8d"]]);export{xe as default};
